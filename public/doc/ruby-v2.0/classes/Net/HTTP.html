<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Net::HTTP</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            Net::HTTP 
            
                <span class="parent">&lt; 
                    
                    Protocol
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/net/http_rb.html">lib/net/http.rb</a></li>
            
            <li><a href="../../files/lib/net/http/backward_rb.html">lib/net/http/backward.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="label-An+HTTP+client+API+for+Ruby.">An <a href="HTTP.html">HTTP</a> client API for Ruby.</h2>

<p><a href="HTTP.html">Net::HTTP</a> provides a rich library which can be used
to build <a href="HTTP.html">HTTP</a> user-agents.  For more details about
<a href="HTTP.html">HTTP</a> see [RFC2616](<a
href="http://www.ietf.org/rfc/rfc2616.txt">www.ietf.org/rfc/rfc2616.txt</a>)</p>

<p><a href="HTTP.html">Net::HTTP</a> is designed to work closely with <a
href="../URI.html">URI</a>.  <a
href="../URI/Generic.html#attribute-i-host">URI::Generic#host</a>, <a
href="../URI/Generic.html#attribute-i-port">URI::Generic#port</a> and <a
href="../URI/HTTP.html#method-i-request_uri">URI::HTTP#request_uri</a> are
designed to work with <a href="HTTP.html">Net::HTTP</a>.</p>

<p>If you are only performing a few GET requests you should try <a
href="../OpenURI.html">OpenURI</a>.</p>

<h2 id="label-Simple+Examples">Simple Examples</h2>

<p>All examples assume you have loaded <a href="HTTP.html">Net::HTTP</a> with:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;net/http&#39;</span>
</pre>

<p>This will also require &#39;uri&#39; so you don&#39;t need to require it
separately.</p>

<p>The <a href="HTTP.html">Net::HTTP</a> methods in the following section do
not persist connections.  They are not recommended if you are performing
many <a href="HTTP.html">HTTP</a> requests.</p>

<h3 id="label-GET">GET</h3>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-string">&#39;/index.html&#39;</span>) <span class="ruby-comment"># =&gt; String</span>
</pre>

<h3 id="label-GET+by+URI">GET by <a href="../URI.html">URI</a></h3>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/index.html?count=10&#39;</span>)
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri</span>) <span class="ruby-comment"># =&gt; String</span>
</pre>

<h3 id="label-GET+with+Dynamic+Parameters">GET with Dynamic Parameters</h3>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/index.html&#39;</span>)
<span class="ruby-identifier">params</span> = { :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">page</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span> }
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">query</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">encode_www_form</span>(<span class="ruby-identifier">params</span>)

<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri</span>)
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPSuccess</span>)
</pre>

<h3 id="label-POST">POST</h3>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://www.example.com/search.cgi&#39;</span>)
<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post_form</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-string">&#39;q&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ruby&#39;</span>, <span class="ruby-string">&#39;max&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;50&#39;</span>)
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
</pre>

<h3 id="label-POST+with+Multiple+Values">POST with Multiple Values</h3>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://www.example.com/search.cgi&#39;</span>)
<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post_form</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-string">&#39;q&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;ruby&#39;</span>, <span class="ruby-string">&#39;perl&#39;</span>], <span class="ruby-string">&#39;max&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;50&#39;</span>)
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
</pre>

<h2 id="label-How+to+use+Net%3A%3AHTTP">How to use <a href="HTTP.html">Net::HTTP</a></h2>

<p>The following example code can be used as the basis of a <a
href="HTTP.html">HTTP</a> user-agent which can perform a variety of request
types using persistent connections.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/some_path?query=string&#39;</span>)

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">request</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">uri</span>

  <span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span> <span class="ruby-identifier">request</span> <span class="ruby-comment"># Net::HTTPResponse object</span>
<span class="ruby-keyword">end</span>
</pre>

<p><a href="HTTP.html#method-c-start">::start</a> immediately creates a
connection to an <a href="HTTP.html">HTTP</a> server which is kept open for
the duration of the block.  The connection will remain open for multiple
requests in the block if the server indicates it supports persistent
connections.</p>

<p>The request types <a href="HTTP.html">Net::HTTP</a> supports are listed
below in the section “<a href="HTTP.html">HTTP</a> Request Classes”.</p>

<p>If you wish to re-use a connection across multiple <a
href="HTTP.html">HTTP</a> requests without automatically closing it you can
use <a href="HTTP.html#method-c-new">::new</a> instead of <a
href="HTTP.html#method-c-start">::start</a>.  <a
href="HTTP.html#method-i-request">request</a> will automatically open a
connection to the server if one is not currently open.  You can manually
close the connection with <a href="HTTP.html#method-i-finish">finish</a>.</p>

<p>For all the <a href="HTTP.html">Net::HTTP</a> request objects and shortcut
request methods you may supply either a String for the request path or a <a
href="../URI.html">URI</a> from which <a href="HTTP.html">Net::HTTP</a>
will extract the request path.</p>

<h3 id="label-Response+Data">Response <a href="../Data.html">Data</a></h3>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/index.html&#39;</span>)
<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri</span>)

<span class="ruby-comment"># Headers</span>
<span class="ruby-identifier">res</span>[<span class="ruby-string">&#39;Set-Cookie&#39;</span>]            <span class="ruby-comment"># =&gt; String</span>
<span class="ruby-identifier">res</span>.<span class="ruby-identifier">get_fields</span>(<span class="ruby-string">&#39;set-cookie&#39;</span>) <span class="ruby-comment"># =&gt; Array</span>
<span class="ruby-identifier">res</span>.<span class="ruby-identifier">to_hash</span>[<span class="ruby-string">&#39;set-cookie&#39;</span>]    <span class="ruby-comment"># =&gt; Array</span>
<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Headers: #{res.to_hash.inspect}&quot;</span>

<span class="ruby-comment"># Status</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">code</span>       <span class="ruby-comment"># =&gt; &#39;200&#39;</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">message</span>    <span class="ruby-comment"># =&gt; &#39;OK&#39;</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span> <span class="ruby-comment"># =&gt; &#39;HTTPOK&#39;</span>

<span class="ruby-comment"># Body</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">response_body_permitted?</span>
</pre>

<h3 id="label-Following+Redirection">Following Redirection</h3>

<p>Each <a href="HTTPResponse.html">Net::HTTPResponse</a> object belongs to a
class for its response code.</p>

<p>For example, all 2XX responses are instances of a <a
href="HTTPSuccess.html">Net::HTTPSuccess</a> subclass, a 3XX response is an
instance of a <a href="HTTPRedirection.html">Net::HTTPRedirection</a>
subclass and a 200 response is an instance of the <a
href="HTTPOK.html">Net::HTTPOK</a> class.  For details of response classes,
see the section “<a href="HTTP.html">HTTP</a> Response Classes” below.</p>

<p>Using a case statement you can handle various types of responses properly:</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">uri_str</span>, <span class="ruby-identifier">limit</span> = <span class="ruby-value">10</span>)
  <span class="ruby-comment"># You should choose a better exception.</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;too many HTTP redirects&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">limit</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>

  <span class="ruby-identifier">response</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-constant">URI</span>(<span class="ruby-identifier">uri_str</span>))

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">response</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPSuccess</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">response</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPRedirection</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">location</span> = <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;location&#39;</span>]
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;redirected to #{location}&quot;</span>
    <span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">location</span>, <span class="ruby-identifier">limit</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">response</span>.<span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">print</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;http://www.ruby-lang.org&#39;</span>)
</pre>

<h3 id="label-POST">POST</h3>

<p>A POST can be made using the <a href="HTTP/Post.html">Net::HTTP::Post</a>
request class.  This example creates a urlencoded POST body:</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://www.example.com/todo.cgi&#39;</span>)
<span class="ruby-identifier">req</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>)
<span class="ruby-identifier">req</span>.<span class="ruby-identifier">set_form_data</span>(<span class="ruby-string">&#39;from&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2005-01-01&#39;</span>, <span class="ruby-string">&#39;to&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2005-03-31&#39;</span>)

<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>)
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">case</span> <span class="ruby-identifier">res</span>
<span class="ruby-keyword">when</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPSuccess</span>, <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPRedirection</span>
  <span class="ruby-comment"># OK</span>
<span class="ruby-keyword">else</span>
  <span class="ruby-identifier">res</span>.<span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span>
</pre>

<p>At this time <a href="HTTP.html">Net::HTTP</a> does not support
multipart/form-data.  To send multipart/form-data use <a
href="HTTPGenericRequest.html#method-i-body-3D">Net::HTTPGenericRequest#body=</a>
and Net::HTTPRequest#content_type=:</p>

<pre>req = Net::HTTP::Post.new(uri)
req.body = multipart_data
req.content_type = &#39;multipart/form-data&#39;</pre>

<p>Other requests that can contain a body such as PUT can be created in the
same way using the corresponding request class (<a
href="HTTP/Put.html">Net::HTTP::Put</a>).</p>

<h3 id="label-Setting+Headers">Setting Headers</h3>

<p>The following example performs a conditional GET using the
If-Modified-Since header.  If the files has not been modified since the
time in the header a Not Modified response will be returned.  See RFC 2616
section 9.3 for further details.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/cached_response&#39;</span>)
<span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span> <span class="ruby-string">&#39;cached_response&#39;</span>

<span class="ruby-identifier">req</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>)
<span class="ruby-identifier">req</span>[<span class="ruby-string">&#39;If-Modified-Since&#39;</span>] = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">rfc2822</span>

<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>)
}

<span class="ruby-identifier">open</span> <span class="ruby-string">&#39;cached_response&#39;</span>, <span class="ruby-string">&#39;w&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">io</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPSuccess</span>)
</pre>

<h3 id="label-Basic+Authentication">Basic Authentication</h3>

<p>Basic authentication is performed according to [RFC2617](<a
href="http://www.ietf.org/rfc/rfc2617.txt">www.ietf.org/rfc/rfc2617.txt</a>)</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/index.html?key=value&#39;</span>)

<span class="ruby-identifier">req</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>)
<span class="ruby-identifier">req</span>.<span class="ruby-identifier">basic_auth</span> <span class="ruby-string">&#39;user&#39;</span>, <span class="ruby-string">&#39;pass&#39;</span>

<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>)
}
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
</pre>

<h3 id="label-Streaming+Response+Bodies">Streaming Response Bodies</h3>

<p>By default <a href="HTTP.html">Net::HTTP</a> reads an entire response into
memory.  If you are handling large files or wish to implement a progress
bar you can instead stream the body directly to an <a
href="../IO.html">IO</a>.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/large_file&#39;</span>)

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">request</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">uri</span>

  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span> <span class="ruby-identifier">request</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">open</span> <span class="ruby-string">&#39;large_file&#39;</span>, <span class="ruby-string">&#39;w&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">response</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">io</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">chunk</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-HTTPS">HTTPS</h3>

<p>HTTPS is enabled for an <a href="HTTP.html">HTTP</a> connection by <a
href="HTTP.html#method-i-use_ssl-3D">#use_ssl=</a>.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;https://secure.example.com/some_path?query=string&#39;</span>)

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>,
  :<span class="ruby-identifier">use_ssl</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;https&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">request</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">uri</span>

  <span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span> <span class="ruby-identifier">request</span> <span class="ruby-comment"># Net::HTTPResponse object</span>
<span class="ruby-keyword">end</span>
</pre>

<p>In previous versions of ruby you would need to require &#39;net/https&#39;
to use HTTPS.  This is no longer true.</p>

<h3 id="label-Proxies">Proxies</h3>

<p><a href="HTTP.html">Net::HTTP</a> will automatically create a proxy from
the <code>http_proxy</code> environment variable if it is present.  To
disable use of <code>http_proxy</code>, pass <code>nil</code> for the proxy
address.</p>

<p>You may also create a custom proxy:</p>

<pre class="ruby"><span class="ruby-identifier">proxy_addr</span> = <span class="ruby-string">&#39;your.proxy.host&#39;</span>
<span class="ruby-identifier">proxy_port</span> = <span class="ruby-value">8080</span>

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">proxy_addr</span>, <span class="ruby-identifier">proxy_port</span>).<span class="ruby-identifier">start</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-comment"># always proxy via your.proxy.addr:8080</span>
}
</pre>

<p>See <a href="HTTP.html#method-c-new">::new</a> for further details and
examples such as proxies that require a username and password.</p>

<h3 id="label-Compression">Compression</h3>

<p><a href="HTTP.html">Net::HTTP</a> automatically adds Accept-<a
href="../Encoding.html">Encoding</a> for compression of response bodies and
automatically decompresses gzip and deflate responses unless a <a
href="../Range.html">Range</a> header was sent.</p>

<p>Compression can be disabled through the Accept-Encoding: identity header.</p>

<h2 id="label-HTTP+Request+Classes"><a href="HTTP.html">HTTP</a> Request Classes</h2>

<p>Here is the <a href="HTTP.html">HTTP</a> request class hierarchy.</p>
<ul><li>
<p><a href="HTTPRequest.html">Net::HTTPRequest</a></p>
<ul><li>
<p><a href="HTTP/Get.html">Net::HTTP::Get</a></p>
</li><li>
<p><a href="HTTP/Head.html">Net::HTTP::Head</a></p>
</li><li>
<p><a href="HTTP/Post.html">Net::HTTP::Post</a></p>
</li><li>
<p><a href="HTTP/Patch.html">Net::HTTP::Patch</a></p>
</li><li>
<p><a href="HTTP/Put.html">Net::HTTP::Put</a></p>
</li><li>
<p><a href="HTTP/Proppatch.html">Net::HTTP::Proppatch</a></p>
</li><li>
<p><a href="HTTP/Lock.html">Net::HTTP::Lock</a></p>
</li><li>
<p><a href="HTTP/Unlock.html">Net::HTTP::Unlock</a></p>
</li><li>
<p><a href="HTTP/Options.html">Net::HTTP::Options</a></p>
</li><li>
<p><a href="HTTP/Propfind.html">Net::HTTP::Propfind</a></p>
</li><li>
<p><a href="HTTP/Delete.html">Net::HTTP::Delete</a></p>
</li><li>
<p><a href="HTTP/Move.html">Net::HTTP::Move</a></p>
</li><li>
<p><a href="HTTP/Copy.html">Net::HTTP::Copy</a></p>
</li><li>
<p><a href="HTTP/Mkcol.html">Net::HTTP::Mkcol</a></p>
</li><li>
<p><a href="HTTP/Trace.html">Net::HTTP::Trace</a></p>
</li></ul>
</li></ul>

<h2 id="label-HTTP+Response+Classes"><a href="HTTP.html">HTTP</a> Response Classes</h2>

<p>Here is <a href="HTTP.html">HTTP</a> response class hierarchy.  All classes
are defined in Net module and are subclasses of <a
href="HTTPResponse.html">Net::HTTPResponse</a>.</p>
<dl class="rdoc-list note-list"><dt><a href="HTTPUnknownResponse.html">HTTPUnknownResponse</a>
<dd>
<p>For unhandled <a href="HTTP.html">HTTP</a> extensions</p>
</dd><dt><a href="HTTPInformation.html">HTTPInformation</a>
<dd>
<p>1xx</p>
</dd><dt><a href="HTTPContinue.html">HTTPContinue</a>
<dd>
<p>100</p>
</dd><dt><a href="HTTPSwitchProtocol.html">HTTPSwitchProtocol</a>
<dd>
<p>101</p>
</dd><dt><a href="HTTPSuccess.html">HTTPSuccess</a>
<dd>
<p>2xx</p>
</dd><dt><a href="HTTPOK.html">HTTPOK</a>
<dd>
<p>200</p>
</dd><dt><a href="HTTPCreated.html">HTTPCreated</a>
<dd>
<p>201</p>
</dd><dt><a href="HTTPAccepted.html">HTTPAccepted</a>
<dd>
<p>202</p>
</dd><dt><a href="HTTPNonAuthoritativeInformation.html">HTTPNonAuthoritativeInformation</a>
<dd>
<p>203</p>
</dd><dt><a href="HTTPNoContent.html">HTTPNoContent</a>
<dd>
<p>204</p>
</dd><dt><a href="HTTPResetContent.html">HTTPResetContent</a>
<dd>
<p>205</p>
</dd><dt><a href="HTTPPartialContent.html">HTTPPartialContent</a>
<dd>
<p>206</p>
</dd><dt><a href="HTTPMultiStatus.html">HTTPMultiStatus</a>
<dd>
<p>207</p>
</dd><dt><a href="HTTPRedirection.html">HTTPRedirection</a>
<dd>
<p>3xx</p>
</dd><dt><a href="HTTPMultipleChoices.html">HTTPMultipleChoices</a>
<dd>
<p>300</p>
</dd><dt><a href="HTTPMovedPermanently.html">HTTPMovedPermanently</a>
<dd>
<p>301</p>
</dd><dt><a href="HTTPFound.html">HTTPFound</a>
<dd>
<p>302</p>
</dd><dt><a href="HTTPSeeOther.html">HTTPSeeOther</a>
<dd>
<p>303</p>
</dd><dt><a href="HTTPNotModified.html">HTTPNotModified</a>
<dd>
<p>304</p>
</dd><dt><a href="HTTPUseProxy.html">HTTPUseProxy</a>
<dd>
<p>305</p>
</dd><dt><a href="HTTPTemporaryRedirect.html">HTTPTemporaryRedirect</a>
<dd>
<p>307</p>
</dd><dt><a href="HTTPClientError.html">HTTPClientError</a>
<dd>
<p>4xx</p>
</dd><dt><a href="HTTPBadRequest.html">HTTPBadRequest</a>
<dd>
<p>400</p>
</dd><dt><a href="HTTPUnauthorized.html">HTTPUnauthorized</a>
<dd>
<p>401</p>
</dd><dt><a href="HTTPPaymentRequired.html">HTTPPaymentRequired</a>
<dd>
<p>402</p>
</dd><dt><a href="HTTPForbidden.html">HTTPForbidden</a>
<dd>
<p>403</p>
</dd><dt><a href="HTTPNotFound.html">HTTPNotFound</a>
<dd>
<p>404</p>
</dd><dt><a href="HTTPMethodNotAllowed.html">HTTPMethodNotAllowed</a>
<dd>
<p>405</p>
</dd><dt><a href="HTTPNotAcceptable.html">HTTPNotAcceptable</a>
<dd>
<p>406</p>
</dd><dt><a href="HTTPProxyAuthenticationRequired.html">HTTPProxyAuthenticationRequired</a>
<dd>
<p>407</p>
</dd><dt><a href="HTTPRequestTimeOut.html">HTTPRequestTimeOut</a>
<dd>
<p>408</p>
</dd><dt><a href="HTTPConflict.html">HTTPConflict</a>
<dd>
<p>409</p>
</dd><dt><a href="HTTPGone.html">HTTPGone</a>
<dd>
<p>410</p>
</dd><dt><a href="HTTPLengthRequired.html">HTTPLengthRequired</a>
<dd>
<p>411</p>
</dd><dt><a href="HTTPPreconditionFailed.html">HTTPPreconditionFailed</a>
<dd>
<p>412</p>
</dd><dt><a href="HTTPRequestEntityTooLarge.html">HTTPRequestEntityTooLarge</a>
<dd>
<p>413</p>
</dd><dt><a href="HTTPRequestURITooLong.html">HTTPRequestURITooLong</a>
<dd>
<p>414</p>
</dd><dt><a href="HTTPUnsupportedMediaType.html">HTTPUnsupportedMediaType</a>
<dd>
<p>415</p>
</dd><dt><a href="HTTPRequestedRangeNotSatisfiable.html">HTTPRequestedRangeNotSatisfiable</a>
<dd>
<p>416</p>
</dd><dt><a href="HTTPExpectationFailed.html">HTTPExpectationFailed</a>
<dd>
<p>417</p>
</dd><dt><a href="HTTPUnprocessableEntity.html">HTTPUnprocessableEntity</a>
<dd>
<p>422</p>
</dd><dt><a href="HTTPLocked.html">HTTPLocked</a>
<dd>
<p>423</p>
</dd><dt><a href="HTTPFailedDependency.html">HTTPFailedDependency</a>
<dd>
<p>424</p>
</dd><dt><a href="HTTPUpgradeRequired.html">HTTPUpgradeRequired</a>
<dd>
<p>426</p>
</dd><dt><a href="HTTPPreconditionRequired.html">HTTPPreconditionRequired</a>
<dd>
<p>428</p>
</dd><dt><a href="HTTPTooManyRequests.html">HTTPTooManyRequests</a>
<dd>
<p>429</p>
</dd><dt><a href="HTTPRequestHeaderFieldsTooLarge.html">HTTPRequestHeaderFieldsTooLarge</a>
<dd>
<p>431</p>
</dd><dt><a href="HTTPServerError.html">HTTPServerError</a>
<dd>
<p>5xx</p>
</dd><dt><a href="HTTPInternalServerError.html">HTTPInternalServerError</a>
<dd>
<p>500</p>
</dd><dt><a href="HTTPNotImplemented.html">HTTPNotImplemented</a>
<dd>
<p>501</p>
</dd><dt><a href="HTTPBadGateway.html">HTTPBadGateway</a>
<dd>
<p>502</p>
</dd><dt><a href="HTTPServiceUnavailable.html">HTTPServiceUnavailable</a>
<dd>
<p>503</p>
</dd><dt><a href="HTTPGatewayTimeOut.html">HTTPGatewayTimeOut</a>
<dd>
<p>504</p>
</dd><dt><a href="HTTPVersionNotSupported.html">HTTPVersionNotSupported</a>
<dd>
<p>505</p>
</dd><dt><a href="HTTPInsufficientStorage.html">HTTPInsufficientStorage</a>
<dd>
<p>507</p>
</dd><dt><a href="HTTPNetworkAuthenticationRequired.html">HTTPNetworkAuthenticationRequired</a>
<dd>
<p>511</p>
</dd></dl>

<p>There is also the Net::HTTPBadResponse exception which is raised when there
is a protocol error.</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Copy.html">Net::HTTP::Copy</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Delete.html">Net::HTTP::Delete</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Get.html">Net::HTTP::Get</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Head.html">Net::HTTP::Head</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Lock.html">Net::HTTP::Lock</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Mkcol.html">Net::HTTP::Mkcol</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Move.html">Net::HTTP::Move</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Options.html">Net::HTTP::Options</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Patch.html">Net::HTTP::Patch</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Post.html">Net::HTTP::Post</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Propfind.html">Net::HTTP::Propfind</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Proppatch.html">Net::HTTP::Proppatch</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Put.html">Net::HTTP::Put</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Trace.html">Net::HTTP::Trace</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="HTTP/Unlock.html">Net::HTTP::Unlock</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-D">D</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-Proxy">Proxy</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-active-3F">active?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-addr_port">addr_port</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-begin_transport">begin_transport</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-connect">connect</a>,
              </li>
            
              
              <li>
                <a href="#method-i-continue_timeout-3D">continue_timeout=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-copy">copy</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-default_port">default_port</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete">delete</a>,
              </li>
            
              
              <li>
                <a href="#method-i-do_finish">do_finish</a>,
              </li>
            
              
              <li>
                <a href="#method-i-do_start">do_start</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-edit_path">edit_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-end_transport">end_transport</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-finish">finish</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-get">get</a>,
              </li>
            
              
              <li>
                <a href="#method-c-get">get</a>,
              </li>
            
              
              <li>
                <a href="#method-i-get2">get2</a>,
              </li>
            
              
              <li>
                <a href="#method-c-get_print">get_print</a>,
              </li>
            
              
              <li>
                <a href="#method-c-get_response">get_response</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-head">head</a>,
              </li>
            
              
              <li>
                <a href="#method-i-head2">head2</a>,
              </li>
            
              
              <li>
                <a href="#method-c-http_default_port">http_default_port</a>,
              </li>
            
              
              <li>
                <a href="#method-c-https_default_port">https_default_port</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>,
              </li>
            
              
              <li>
                <a href="#method-c-is_version_1_2-3F">is_version_1_2?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>K</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-keep_alive-3F">keep_alive?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-lock">lock</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-mkcol">mkcol</a>,
              </li>
            
              
              <li>
                <a href="#method-i-move">move</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-c-newobj">newobj</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-on_connect">on_connect</a>,
              </li>
            
              
              <li>
                <a href="#method-i-options">options</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-patch">patch</a>,
              </li>
            
              
              <li>
                <a href="#method-i-peer_cert">peer_cert</a>,
              </li>
            
              
              <li>
                <a href="#method-i-post">post</a>,
              </li>
            
              
              <li>
                <a href="#method-i-post2">post2</a>,
              </li>
            
              
              <li>
                <a href="#method-c-post_form">post_form</a>,
              </li>
            
              
              <li>
                <a href="#method-i-propfind">propfind</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proppatch">proppatch</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy-3F">proxy?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy_address">proxy_address</a>,
              </li>
            
              
              <li>
                <a href="#method-c-proxy_class-3F">proxy_class?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy_from_env-3F">proxy_from_env?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy_pass">proxy_pass</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy_port">proxy_port</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy_user">proxy_user</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxyaddr">proxyaddr</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxyport">proxyport</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-read_timeout-3D">read_timeout=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-request">request</a>,
              </li>
            
              
              <li>
                <a href="#method-i-request_get">request_get</a>,
              </li>
            
              
              <li>
                <a href="#method-i-request_head">request_head</a>,
              </li>
            
              
              <li>
                <a href="#method-i-request_post">request_post</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-send_entity">send_entity</a>,
              </li>
            
              
              <li>
                <a href="#method-i-send_request">send_request</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set_debug_output">set_debug_output</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sspi_auth">sspi_auth</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sspi_auth-3F">sspi_auth?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-start">start</a>,
              </li>
            
              
              <li>
                <a href="#method-i-start">start</a>,
              </li>
            
              
              <li>
                <a href="#method-i-started-3F">started?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-trace">trace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-transport_request">transport_request</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-unlock">unlock</a>,
              </li>
            
              
              <li>
                <a href="#method-i-use_ssl-3D">use_ssl=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-use_ssl-3F">use_ssl?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-version_1_2">version_1_2</a>,
              </li>
            
              
              <li>
                <a href="#method-c-version_1_2-3F">version_1_2?</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">SSL_IVNAMES</td>
            <td>=</td>
            <td class="attr-value">[
:@ca_file,
:@ca_path,
:@cert,
:@cert_store,
:@ciphers,
:@key,
:@ssl_timeout,
:@ssl_version,
:@verify_callback,
:@verify_depth,
:@verify_mode,
]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">SSL_ATTRIBUTES</td>
            <td>=</td>
            <td class="attr-value">[
:ca_file,
:ca_path,
:cert,
:cert_store,
:ciphers,
:key,
:ssl_timeout,
:ssl_version,
:verify_callback,
:verify_depth,
:verify_mode,
]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">IDEMPOTENT_METHODS_</td>
            <td>=</td>
            <td class="attr-value">%w/GET HEAD PUT DELETE OPTIONS TRACE/</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">ProxyMod</td>
            <td>=</td>
            <td class="attr-value">ProxyDelta</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>proxy_address</td>
            <td class='attr-desc'><p>Address of proxy host. If <a href="HTTP.html">Net::HTTP</a> does not use a
proxy, nil.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>proxy_pass</td>
            <td class='attr-desc'><p>User password for accessing proxy. If <a href="HTTP.html">Net::HTTP</a>
does not use a proxy, nil.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>proxy_port</td>
            <td class='attr-desc'><p>Port number of proxy host. If <a href="HTTP.html">Net::HTTP</a> does not
use a proxy, nil.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>proxy_user</td>
            <td class='attr-desc'><p>User name for accessing proxy. If <a href="HTTP.html">Net::HTTP</a> does
not use a proxy, nil.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>address</td>
            <td class='attr-desc'><p>The DNS host name or IP address to connect to.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>ca_file</td>
            <td class='attr-desc'><p>Sets path of a CA certification file in PEM format.</p>

<p>The file can contain several CA certificates.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>ca_path</td>
            <td class='attr-desc'><p>Sets path of a CA certification directory containing certifications in PEM
format.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>cert</td>
            <td class='attr-desc'><p>Sets an <a
href="../OpenSSL/X509/Certificate.html">OpenSSL::X509::Certificate</a>
object as client certificate. (This method is appeared in Michal
Rokos&#39;s <a href="../OpenSSL.html">OpenSSL</a> extension).</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>cert_store</td>
            <td class='attr-desc'><p>Sets the X509::Store to verify peer certificate.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>ciphers</td>
            <td class='attr-desc'><p>Sets the available ciphers.  See <a
href="../OpenSSL/SSL/SSLContext.html#method-i-ciphers-3D">OpenSSL::SSL::SSLContext#ciphers=</a></p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>close_on_empty_response</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>continue_timeout</td>
            <td class='attr-desc'><p>Seconds to wait for 100 Continue response. If the <a
href="HTTP.html">HTTP</a> object does not receive a response in this many
seconds it sends the request body. The default value is <code>nil</code>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>keep_alive_timeout</td>
            <td class='attr-desc'><p>Seconds to reuse the connection of the previous request. If the idle time
is less than this Keep-Alive <a href="../Timeout.html">Timeout</a>, <a
href="HTTP.html">Net::HTTP</a> reuses the TCP/IP socket used by the
previous communication. The default value is 2 seconds.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>key</td>
            <td class='attr-desc'><p>Sets an <a href="../OpenSSL/PKey/RSA.html">OpenSSL::PKey::RSA</a> or <a
href="../OpenSSL/PKey/DSA.html">OpenSSL::PKey::DSA</a> object. (This method
is appeared in Michal Rokos&#39;s <a href="../OpenSSL.html">OpenSSL</a>
extension.)</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>local_host</td>
            <td class='attr-desc'><p>The local host used to estabilish the connection.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>local_port</td>
            <td class='attr-desc'><p>The local port used to estabilish the connection.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>open_timeout</td>
            <td class='attr-desc'><p>Number of seconds to wait for the connection to open. Any number may be
used, including Floats for fractional seconds. If the <a
href="HTTP.html">HTTP</a> object cannot open a connection in this many
seconds, it raises a <a href="OpenTimeout.html">Net::OpenTimeout</a>
exception. The default value is <code>nil</code>.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>port</td>
            <td class='attr-desc'><p>The port number to connect to.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>proxy_address</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>proxy_from_env</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>proxy_pass</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>proxy_port</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [W]
            </td>
            <td class='attr-name'>proxy_user</td>
            <td class='attr-desc'></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>read_timeout</td>
            <td class='attr-desc'><p>Number of seconds to wait for one block to be read (via one read(2) call).
Any number may be used, including Floats for fractional seconds. If the <a
href="HTTP.html">HTTP</a> object cannot read data in this many seconds, it
raises a <a href="ReadTimeout.html">Net::ReadTimeout</a> exception. The
default value is 60 seconds.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>ssl_timeout</td>
            <td class='attr-desc'><p>Sets the SSL timeout seconds.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>ssl_version</td>
            <td class='attr-desc'><p>Sets the SSL version.  See <a
href="../OpenSSL/SSL/SSLContext.html#method-i-ssl_version-3D">OpenSSL::SSL::SSLContext#ssl_version=</a></p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>verify_callback</td>
            <td class='attr-desc'><p>Sets the verify callback for the server certification verification.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>verify_depth</td>
            <td class='attr-desc'><p>Sets the maximum depth for the certificate chain verification.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>verify_mode</td>
            <td class='attr-desc'><p>Sets the flags for server the certification verification at beginning of
SSL/TLS session.</p>

<p>OpenSSL::SSL::VERIFY_NONE or OpenSSL::SSL::VERIFY_PEER are acceptable.</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-Proxy">
            
              <b>Proxy</b>(p_addr = :ENV, p_port = nil, p_user = nil, p_pass = nil)
            
            <a href="../../classes/Net/HTTP.html#method-c-Proxy" name="method-c-Proxy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates an <a href="HTTP.html">HTTP</a> proxy class which behaves like <a
href="HTTP.html">Net::HTTP</a>, but performs all access via the specified
proxy.</p>

<p>This class is obsolete.  You may pass these same parameters directly to <a
href="HTTP.html#method-c-new">::new</a>.  See <a
href="HTTP.html#method-c-new">::new</a> for details of the arguments.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-Proxy_source')" id="l_method-c-Proxy_source">show</a>
                
              </p>
              <div id="method-c-Proxy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 970</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-constant">Proxy</span>(<span class="ruby-identifier">p_addr</span> = <span class="ruby-value">:ENV</span>, <span class="ruby-identifier">p_port</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_user</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">p_addr</span>

  <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>) {
    <span class="ruby-ivar">@is_proxy_class</span> = <span class="ruby-keyword">true</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">p_addr</span> <span class="ruby-operator">==</span> <span class="ruby-value">:ENV</span> <span class="ruby-keyword">then</span>
      <span class="ruby-ivar">@proxy_from_env</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-ivar">@proxy_address</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-ivar">@proxy_port</span>    = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@proxy_from_env</span> = <span class="ruby-keyword">false</span>
      <span class="ruby-ivar">@proxy_address</span> = <span class="ruby-identifier">p_addr</span>
      <span class="ruby-ivar">@proxy_port</span>    = <span class="ruby-identifier">p_port</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_port</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@proxy_user</span> = <span class="ruby-identifier">p_user</span>
    <span class="ruby-ivar">@proxy_pass</span> = <span class="ruby-identifier">p_pass</span>
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-default_port">
            
              <b>default_port</b>()
            
            <a href="../../classes/Net/HTTP.html#method-c-default_port" name="method-c-default_port" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The default port to use for <a href="HTTP.html">HTTP</a> requests; defaults
to 80.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-default_port_source')" id="l_method-c-default_port_source">show</a>
                
              </p>
              <div id="method-c-default_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 517</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">default_port</span>
  <span class="ruby-identifier">http_default_port</span>()
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get">
            
              <b>get</b>(uri_or_host, path = nil, port = nil)
            
            <a href="../../classes/Net/HTTP.html#method-c-get" name="method-c-get" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a GET request to the target and returns the <a
href="HTTP.html">HTTP</a> response as a string.  The target can either be
specified as (<code>uri</code>), or as (<code>host</code>,
<code>path</code>, <code>port</code> = 80); so:</p>

<pre>print Net::HTTP.get(URI(&#39;http://www.example.com/index.html&#39;))</pre>

<p>or:</p>

<pre>print Net::HTTP.get(&#39;www.example.com&#39;, &#39;/index.html&#39;)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_source')" id="l_method-c-get_source">show</a>
                
              </p>
              <div id="method-c-get_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 453</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span>).<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get_print">
            
              <b>get_print</b>(uri_or_host, path = nil, port = nil)
            
            <a href="../../classes/Net/HTTP.html#method-c-get_print" name="method-c-get_print" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Gets the body text from the target and outputs it to $stdout.  The target
can either be specified as (<code>uri</code>), or as (<code>host</code>,
<code>path</code>, <code>port</code> = 80); so:</p>

<pre>Net::HTTP.get_print URI(&#39;http://www.example.com/index.html&#39;)</pre>

<p>or:</p>

<pre>Net::HTTP.get_print &#39;www.example.com&#39;, &#39;/index.html&#39;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_print_source')" id="l_method-c-get_print_source">show</a>
                
              </p>
              <div id="method-c-get_print_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 434</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">get_print</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">res</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">res</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">print</span> <span class="ruby-identifier">chunk</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get_response">
            
              <b>get_response</b>(uri_or_host, path = nil, port = nil, &amp;block)
            
            <a href="../../classes/Net/HTTP.html#method-c-get_response" name="method-c-get_response" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a GET request to the target and returns the <a
href="HTTP.html">HTTP</a> response as a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object.  The target can
either be specified as (<code>uri</code>), or as (<code>host</code>,
<code>path</code>, <code>port</code> = 80); so:</p>

<pre>res = Net::HTTP.get_response(URI(&#39;http://www.example.com/index.html&#39;))
print res.body</pre>

<p>or:</p>

<pre>res = Net::HTTP.get_response(&#39;www.example.com&#39;, &#39;/index.html&#39;)
print res.body</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_response_source')" id="l_method-c-get_response_source">show</a>
                
              </p>
              <div id="method-c-get_response_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 469</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span>
    <span class="ruby-identifier">host</span> = <span class="ruby-identifier">uri_or_host</span>
    <span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>).<span class="ruby-identifier">start</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">path</span>, &amp;<span class="ruby-identifier">block</span>)
    }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">uri_or_host</span>
    <span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>,
          <span class="ruby-value">:use_ssl</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;https&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">uri</span>, &amp;<span class="ruby-identifier">block</span>)
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-http_default_port">
            
              <b>http_default_port</b>()
            
            <a href="../../classes/Net/HTTP.html#method-c-http_default_port" name="method-c-http_default_port" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The default port to use for <a href="HTTP.html">HTTP</a> requests; defaults
to 80.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-http_default_port_source')" id="l_method-c-http_default_port_source">show</a>
                
              </p>
              <div id="method-c-http_default_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 522</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">http_default_port</span>
  <span class="ruby-number">80</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-https_default_port">
            
              <b>https_default_port</b>()
            
            <a href="../../classes/Net/HTTP.html#method-c-https_default_port" name="method-c-https_default_port" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The default port to use for HTTPS requests; defaults to 443.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-https_default_port_source')" id="l_method-c-https_default_port_source">show</a>
                
              </p>
              <div id="method-c-https_default_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 527</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">https_default_port</span>
  <span class="ruby-number">443</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-is_version_1_2-3F">
            
              <b>is_version_1_2?</b>()
            
            <a href="../../classes/Net/HTTP.html#method-c-is_version_1_2-3F" name="method-c-is_version_1_2-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(address, port = nil)
            
            <a href="../../classes/Net/HTTP.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates a new <a href="HTTP.html">Net::HTTP</a> object for the specified
server address, without opening the TCP connection or initializing the <a
href="HTTP.html">HTTP</a> session. The <code>address</code> should be a DNS
hostname or IP address.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 632</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@address</span> = <span class="ruby-identifier">address</span>
  <span class="ruby-ivar">@port</span>    = (<span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>)
  <span class="ruby-ivar">@local_host</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@local_port</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@curr_http_version</span> = <span class="ruby-constant">HTTPVersion</span>
  <span class="ruby-ivar">@keep_alive_timeout</span> = <span class="ruby-number">2</span>
  <span class="ruby-ivar">@last_communicated</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@close_on_empty_response</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@socket</span>  = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@started</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@open_timeout</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-number">60</span>
  <span class="ruby-ivar">@continue_timeout</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@debug_output</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@proxy_from_env</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@proxy_uri</span>      = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_address</span>  = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_port</span>     = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_user</span>     = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_pass</span>     = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@use_ssl</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@ssl_context</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@ssl_session</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@enable_post_connection_check</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@sspi_enabled</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-constant">SSL_IVNAMES</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ivname</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">instance_variable_set</span> <span class="ruby-identifier">ivname</span>, <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(address, port = nil, p_addr = :ENV, p_port = nil, p_user = nil, p_pass = nil)
            
            <a href="../../classes/Net/HTTP.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates a new <a href="HTTP.html">Net::HTTP</a> object without opening a
TCP connection or <a href="HTTP.html">HTTP</a> session.</p>

<p>The <code>address</code> should be a DNS hostname or IP address, the
<code>port</code> is the port the server operates on.  If no
<code>port</code> is given the default port for <a
href="HTTP.html">HTTP</a> or HTTPS is used.</p>

<p>If none of the <code>p_</code> arguments are given, the proxy host and port
are taken from the <code>http_proxy</code> environment variable (or its
uppercase equivalent) if present.  If the proxy requires authentication you
must supply it by hand.  See <a
href="../URI/Generic.html#method-i-find_proxy">URI::Generic#find_proxy</a>
for details of proxy detection from the environment.  To disable proxy
detection set <code>p_addr</code> to nil.</p>

<p>If you are connecting to a custom proxy, <code>p_addr</code> the DNS name
or IP address of the proxy host, <code>p_port</code> the port to use to
access the proxy, and <code>p_user</code> and <code>p_pass</code> the
username and password if authorization is required to use the proxy.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="HTTP.html#method-c-newobj">newobj</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 608</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_addr</span> = <span class="ruby-value">:ENV</span>, <span class="ruby-identifier">p_port</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_user</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">http</span> = <span class="ruby-keyword">super</span> <span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_class?</span> <span class="ruby-keyword">then</span> <span class="ruby-comment"># from Net::HTTP::Proxy()</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_from_env</span> = <span class="ruby-ivar">@proxy_from_env</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span>  = <span class="ruby-ivar">@proxy_address</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_port</span>     = <span class="ruby-ivar">@proxy_port</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_user</span>     = <span class="ruby-ivar">@proxy_user</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_pass</span>     = <span class="ruby-ivar">@proxy_pass</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">p_addr</span> <span class="ruby-operator">==</span> <span class="ruby-value">:ENV</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_from_env</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> = <span class="ruby-identifier">p_addr</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_port</span>    = <span class="ruby-identifier">p_port</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_port</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_user</span>    = <span class="ruby-identifier">p_user</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_pass</span>    = <span class="ruby-identifier">p_pass</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">http</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-newobj">
            
              <b>newobj</b>(address, port = nil, p_addr = :ENV, p_port = nil, p_user = nil, p_pass = nil)
            
            <a href="../../classes/Net/HTTP.html#method-c-newobj" name="method-c-newobj" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-post_form">
            
              <b>post_form</b>(url, params)
            
            <a href="../../classes/Net/HTTP.html#method-c-post_form" name="method-c-post_form" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Posts HTML form data to the specified <a href="../URI.html">URI</a> object.
The form data must be provided as a <a href="../Hash.html">Hash</a> mapping
from String to String. Example:</p>

<pre class="ruby">{ <span class="ruby-string">&quot;cmd&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;search&quot;</span>, <span class="ruby-string">&quot;q&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;ruby&quot;</span>, <span class="ruby-string">&quot;max&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;50&quot;</span> }
</pre>

<p>This method also does Basic Authentication iff <code>url</code>.user
exists. But userinfo for authentication is deprecated (RFC3986). So this
feature will be removed.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;net/http&#39;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;uri&#39;</span>

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post_form</span> <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://www.example.com/search.cgi&#39;</span>),
                    { <span class="ruby-string">&quot;q&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;ruby&quot;</span>, <span class="ruby-string">&quot;max&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;50&quot;</span> }
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-post_form_source')" id="l_method-c-post_form_source">show</a>
                
              </p>
              <div id="method-c-post_form_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 502</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">post_form</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">params</span>)
  <span class="ruby-identifier">req</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">url</span>)
  <span class="ruby-identifier">req</span>.<span class="ruby-identifier">form_data</span> = <span class="ruby-identifier">params</span>
  <span class="ruby-identifier">req</span>.<span class="ruby-identifier">basic_auth</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">password</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>
  <span class="ruby-identifier">start</span>(<span class="ruby-identifier">url</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">port</span>,
        <span class="ruby-value">:use_ssl</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;https&#39;</span> ) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>)
  }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-proxy_class-3F">
            
              <b>proxy_class?</b>()
            
            <a href="../../classes/Net/HTTP.html#method-c-proxy_class-3F" name="method-c-proxy_class-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>returns true if self is a class which was created by HTTP::Proxy.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-proxy_class-3F_source')" id="l_method-c-proxy_class-3F_source">show</a>
                
              </p>
              <div id="method-c-proxy_class-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 993</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy_class?</span>
  <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@is_proxy_class</span>) <span class="ruby-operator">?</span> <span class="ruby-ivar">@is_proxy_class</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-start">
            
              <b>HTTP.start(address, port, p_addr, p_port, p_user, p_pass, &block)
HTTP.start(address, port=nil, p_addr=nil, p_port=nil, p_user=nil, p_pass=nil, opt, &block)
</b>
            
            <a href="../../classes/Net/HTTP.html#method-c-start" name="method-c-start" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates a new <a href="HTTP.html">Net::HTTP</a> object, then additionally
opens the TCP connection and <a href="HTTP.html">HTTP</a> session.</p>

<p>Arguments are the following:</p>
<dl class="rdoc-list note-list"><dt>address 
<dd>
<p>hostname or IP address of the server</p>
</dd><dt>port    
<dd>
<p>port of the server</p>
</dd><dt>p_addr  
<dd>
<p>address of proxy</p>
</dd><dt>p_port  
<dd>
<p>port of proxy</p>
</dd><dt>p_user  
<dd>
<p>user of proxy</p>
</dd><dt>p_pass  
<dd>
<p>pass of proxy</p>
</dd><dt>opt     
<dd>
<p>optional hash</p>
</dd></dl>

<p><em>opt</em> sets following values by its accessor. The keys are <a
href="HTTP.html#attribute-i-ca_file">#ca_file</a>, <a
href="HTTP.html#attribute-i-ca_path">#ca_path</a>, cert, <a
href="HTTP.html#attribute-i-cert_store">#cert_store</a>, ciphers, <a
href="HTTP.html#attribute-i-close_on_empty_response">#close_on_empty_response</a>,
key, <a href="HTTP.html#attribute-i-open_timeout">#open_timeout</a>, <a
href="HTTP.html#attribute-i-read_timeout">#read_timeout</a>, <a
href="HTTP.html#attribute-i-ssl_timeout">#ssl_timeout</a>, <a
href="HTTP.html#attribute-i-ssl_version">#ssl_version</a>, use_ssl, <a
href="HTTP.html#attribute-i-verify_callback">#verify_callback</a>, <a
href="HTTP.html#attribute-i-verify_depth">#verify_depth</a> and
verify_mode. If you set :use_ssl as true, you can use https and default
value of <a href="HTTP.html#attribute-i-verify_mode">#verify_mode</a> is
set as OpenSSL::SSL::VERIFY_PEER.</p>

<p>If the optional block is given, the newly created <a
href="HTTP.html">Net::HTTP</a> object is passed to it and closed when the
block finishes.  In this case, the return value of this method is the
return value of the block.  If no block is given, the return value of this
method is the newly created <a href="HTTP.html">Net::HTTP</a> object
itself, and the caller is responsible for closing it upon completion using
the finish() method.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-start_source')" id="l_method-c-start_source">show</a>
                
              </p>
              <div id="method-c-start_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 565</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">address</span>, *<span class="ruby-identifier">arg</span>, &amp;<span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +http+</span>
  <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">opt</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">try_convert</span>(<span class="ruby-identifier">arg</span>[<span class="ruby-number">-1</span>])
  <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span> = *<span class="ruby-identifier">arg</span>
  <span class="ruby-identifier">port</span> = <span class="ruby-identifier">https_default_port</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span>[<span class="ruby-value">:use_ssl</span>]
  <span class="ruby-identifier">http</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opt</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">opt</span>[<span class="ruby-value">:use_ssl</span>]
      <span class="ruby-identifier">opt</span> = {<span class="ruby-identifier">verify_mode</span><span class="ruby-operator">:</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_PEER</span>}.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">opt</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-regexp">/\A(\w+)=\z/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">key</span> = <span class="ruby-node">$1</span>.<span class="ruby-identifier">to_sym</span>
      <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">key</span>) <span class="ruby-keyword">or</span> <span class="ruby-keyword">next</span>
      <span class="ruby-identifier">http</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">key</span>])
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span>(&amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-version_1_2">
            
              <b>version_1_2</b>()
            
            <a href="../../classes/Net/HTTP.html#method-c-version_1_2" name="method-c-version_1_2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Turns on net/http 1.2 (ruby 1.8) features. Defaults to ON in ruby 1.8 or
later.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-version_1_2_source')" id="l_method-c-version_1_2_source">show</a>
                
              </p>
              <div id="method-c-version_1_2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 400</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">version_1_2</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-version_1_2-3F">
            
              <b>version_1_2?</b>()
            
            <a href="../../classes/Net/HTTP.html#method-c-version_1_2-3F" name="method-c-version_1_2-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if net/http is in version 1.2 mode. Defaults to true.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="HTTP.html#method-c-is_version_1_2-3F">is_version_1_2?</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-version_1_2-3F_source')" id="l_method-c-version_1_2-3F_source">show</a>
                
              </p>
              <div id="method-c-version_1_2-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">HTTP</span>.<span class="ruby-identifier">version_1_2?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-active-3F">
            
              <b>active?</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-active-3F" name="method-i-active-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-continue_timeout-3D">
            
              <b>continue_timeout=</b>(sec)
            
            <a href="../../classes/Net/HTTP.html#method-i-continue_timeout-3D" name="method-i-continue_timeout-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Setter for the <a
href="HTTP.html#attribute-i-continue_timeout">#continue_timeout</a>
attribute.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-continue_timeout-3D_source')" id="l_method-i-continue_timeout-3D_source">show</a>
                
              </p>
              <div id="method-i-continue_timeout-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 725</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">continue_timeout=</span>(<span class="ruby-identifier">sec</span>)
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">continue_timeout</span> = <span class="ruby-identifier">sec</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
  <span class="ruby-ivar">@continue_timeout</span> = <span class="ruby-identifier">sec</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-copy">
            
              <b>copy</b>(path, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-copy" name="method-i-copy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a COPY request to the <code>path</code> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-copy_source')" id="l_method-i-copy_source">show</a>
                
              </p>
              <div id="method-i-copy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1236</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">copy</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Copy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete">
            
              <b>delete</b>(path, initheader = {&#39;Depth&#39; =&gt; &#39;Infinity&#39;})
            
            <a href="../../classes/Net/HTTP.html#method-i-delete" name="method-i-delete" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a DELETE request to the <code>path</code> and gets a response, as an
<a href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-delete_source')" id="l_method-i-delete_source">show</a>
                
              </p>
              <div id="method-i-delete_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1224</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">delete</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = {<span class="ruby-string">&#39;Depth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Infinity&#39;</span>})
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Delete</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-finish">
            
              <b>finish</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-finish" name="method-i-finish" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Finishes the <a href="HTTP.html">HTTP</a> session and closes the TCP
connection. Raises <a href="../IOError.html">IOError</a> if the session has
not been started.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-finish_source')" id="l_method-i-finish_source">show</a>
                
              </p>
              <div id="method-i-finish_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 939</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">finish</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-string">&#39;HTTP session not yet started&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">started?</span>
  <span class="ruby-identifier">do_finish</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-get">
            
              <b>get</b>(path, initheader = {}, dest = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-get" name="method-i-get" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Retrieves data from <code>path</code> on the connected-to host which may be
an absolute path String or a <a href="../URI.html">URI</a> to extract the
path from.</p>

<p><code>initheader</code> must be a <a href="../Hash.html">Hash</a> like {
&#39;Accept&#39; =&gt; &#39;<strong>/</strong>&#39;, … }, and it defaults
to an empty hash. If <code>initheader</code> doesn&#39;t have the key
&#39;accept-encoding&#39;, then a value of
“gzip;q=1.0,deflate;q=0.6,identity;q=0.3” is used, so that gzip compression
is used in preference to deflate compression, which is used in preference
to no compression. Ruby doesn&#39;t have libraries to support the compress
(Lempel-Ziv) compression, so that is not supported.  The intent of this is
to reduce bandwidth by default.   If this routine sets up compression, then
it does the decompression also, removing the header as well to prevent
confusion.  Otherwise it leaves the body as it found it.</p>

<p>This method returns a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.</p>

<p>If called with a block, yields each fragment of the entity body in turn as
a string as it is read from the socket.  Note that in this case, the
returned response object will <strong>not</strong> contain a (meaningful)
body.</p>

<p><code>dest</code> argument is obsolete. It still works but you must not use
it.</p>

<p>This method never raises an exception.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/index.html&#39;</span>)

<span class="ruby-comment"># using block</span>
<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&#39;result.txt&#39;</span>, <span class="ruby-string">&#39;w&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/~foo/&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
}
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-get_source')" id="l_method-i-get_source">show</a>
                
              </p>
              <div id="method-i-get_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1124</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = {}, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +body_segment+</span>
  <span class="ruby-identifier">res</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>)) {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, &amp;<span class="ruby-identifier">block</span>
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">r</span>
  }
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-get2">
            
              <b>get2</b>(path, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-get2" name="method-i-get2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-head">
            
              <b>head</b>(path, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-head" name="method-i-head" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Gets only the header from <code>path</code> on the connected-to host.
<code>header</code> is a <a href="../Hash.html">Hash</a> like {
&#39;Accept&#39; =&gt; &#39;<strong>/</strong>&#39;, … }.</p>

<p>This method returns a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.</p>

<p>This method never raises an exception.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-string">&#39;some.www.server&#39;</span>, <span class="ruby-value">80</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">head</span>(<span class="ruby-string">&#39;/index.html&#39;</span>)
}
<span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-head_source')" id="l_method-i-head_source">show</a>
                
              </p>
              <div id="method-i-head_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1146</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Head</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-head2">
            
              <b>head2</b>(path, initheader = nil, &amp;block)
            
            <a href="../../classes/Net/HTTP.html#method-i-head2" name="method-i-head2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 665</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inspect</span>
  <span class="ruby-node">&quot;#&lt;#{self.class} #{@address}:#{@port} open=#{started?}&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-lock">
            
              <b>lock</b>(path, body, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-lock" name="method-i-lock" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a LOCK request to the <code>path</code> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-lock_source')" id="l_method-i-lock_source">show</a>
                
              </p>
              <div id="method-i-lock_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1200</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">lock</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Lock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-mkcol">
            
              <b>mkcol</b>(path, body = nil, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-mkcol" name="method-i-mkcol" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a MKCOL request to the <code>path</code> and gets a response, as an
<a href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-mkcol_source')" id="l_method-i-mkcol_source">show</a>
                
              </p>
              <div id="method-i-mkcol_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1242</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mkcol</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Mkcol</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-move">
            
              <b>move</b>(path, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-move" name="method-i-move" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a MOVE request to the <code>path</code> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-move_source')" id="l_method-i-move_source">show</a>
                
              </p>
              <div id="method-i-move_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1230</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">move</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Move</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-options">
            
              <b>options</b>(path, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-options" name="method-i-options" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a OPTIONS request to the <code>path</code> and gets a response, as an
<a href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-options_source')" id="l_method-i-options_source">show</a>
                
              </p>
              <div id="method-i-options_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1212</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">options</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Options</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-patch">
            
              <b>patch</b>(path, data, initheader = nil, dest = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-patch" name="method-i-patch" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a PATCH request to the <code>path</code> and gets a response, as an
<a href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-patch_source')" id="l_method-i-patch_source">show</a>
                
              </p>
              <div id="method-i-patch_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1184</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">patch</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +body_segment+</span>
  <span class="ruby-identifier">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-constant">Patch</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-peer_cert">
            
              <b>peer_cert</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-peer_cert" name="method-i-peer_cert" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the X.509 certificates the server presented.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-peer_cert_source')" id="l_method-i-peer_cert_source">show</a>
                
              </p>
              <div id="method-i-peer_cert_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 831</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">peer_cert</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">use_ssl?</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@socket</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">io</span>.<span class="ruby-identifier">peer_cert</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-post">
            
              <b>post</b>(path, data, initheader = nil, dest = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-post" name="method-i-post" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Posts <code>data</code> (must be a String) to <code>path</code>.
<code>header</code> must be a <a href="../Hash.html">Hash</a> like {
&#39;Accept&#39; =&gt; &#39;<strong>/</strong>&#39;, … }.</p>

<p>This method returns a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.</p>

<p>If called with a block, yields each fragment of the entity body in turn as
a string as it is read from the socket.  Note that in this case, the
returned response object will <strong>not</strong> contain a (meaningful)
body.</p>

<p><code>dest</code> argument is obsolete. It still works but you must not use
it.</p>

<p>This method never raises exception.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">post</span>(<span class="ruby-string">&#39;/cgi-bin/search.rb&#39;</span>, <span class="ruby-string">&#39;query=foo&#39;</span>)

<span class="ruby-comment"># using block</span>
<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&#39;result.txt&#39;</span>, <span class="ruby-string">&#39;w&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">post</span>(<span class="ruby-string">&#39;/cgi-bin/search.rb&#39;</span>, <span class="ruby-string">&#39;query=foo&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
}
</pre>

<p>You should set Content-Type: header field for POST. If no Content-Type:
field given, this method uses “application/x-www-form-urlencoded” by
default.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-post_source')" id="l_method-i-post_source">show</a>
                
              </p>
              <div id="method-i-post_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1178</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +body_segment+</span>
  <span class="ruby-identifier">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-constant">Post</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-post2">
            
              <b>post2</b>(path, data, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-post2" name="method-i-post2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-propfind">
            
              <b>propfind</b>(path, body = nil, initheader = {&#39;Depth&#39; =&gt; &#39;0&#39;})
            
            <a href="../../classes/Net/HTTP.html#method-i-propfind" name="method-i-propfind" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a PROPFIND request to the <code>path</code> and gets a response, as
an <a href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-propfind_source')" id="l_method-i-propfind_source">show</a>
                
              </p>
              <div id="method-i-propfind_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1218</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">propfind</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">initheader</span> = {<span class="ruby-string">&#39;Depth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;0&#39;</span>})
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Propfind</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proppatch">
            
              <b>proppatch</b>(path, body, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-proppatch" name="method-i-proppatch" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a PROPPATCH request to the <code>path</code> and gets a response, as
an <a href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proppatch_source')" id="l_method-i-proppatch_source">show</a>
                
              </p>
              <div id="method-i-proppatch_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1194</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proppatch</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Proppatch</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy-3F">
            
              <b>proxy?</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-proxy-3F" name="method-i-proxy-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>True if requests for this connection will be proxied</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy-3F_source')" id="l_method-i-proxy-3F_source">show</a>
                
              </p>
              <div id="method-i-proxy-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1012</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy?</span>
  <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_from_env</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">proxy_uri</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@proxy_address</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy_address">
            
              <b>proxy_address</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-proxy_address" name="method-i-proxy_address" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The address of the proxy server, if one is configured.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="HTTP.html#method-i-proxyaddr">proxyaddr</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_address_source')" id="l_method-i-proxy_address_source">show</a>
                
              </p>
              <div id="method-i-proxy_address_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1031</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy_address</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_from_env</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">proxy_uri</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">proxy_uri</span>.<span class="ruby-identifier">hostname</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@proxy_address</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy_from_env-3F">
            
              <b>proxy_from_env?</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-proxy_from_env-3F" name="method-i-proxy_from_env-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>True if the proxy for this connection is determined from the environment</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_from_env-3F_source')" id="l_method-i-proxy_from_env-3F_source">show</a>
                
              </p>
              <div id="method-i-proxy_from_env-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1021</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy_from_env?</span>
  <span class="ruby-ivar">@proxy_from_env</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy_pass">
            
              <b>proxy_pass</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-proxy_pass" name="method-i-proxy_pass" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The proxy password, if one is configured</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_pass_source')" id="l_method-i-proxy_pass_source">show</a>
                
              </p>
              <div id="method-i-proxy_pass_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1054</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy_pass</span>
  <span class="ruby-ivar">@proxy_pass</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy_port">
            
              <b>proxy_port</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-proxy_port" name="method-i-proxy_port" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The port of the proxy server, if one is configured.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="HTTP.html#method-i-proxyport">proxyport</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_port_source')" id="l_method-i-proxy_port_source">show</a>
                
              </p>
              <div id="method-i-proxy_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1040</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy_port</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_from_env</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">proxy_uri</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">proxy_uri</span>.<span class="ruby-identifier">port</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@proxy_port</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy_user">
            
              <b>proxy_user</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-proxy_user" name="method-i-proxy_user" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The proxy username, if one is configured</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_user_source')" id="l_method-i-proxy_user_source">show</a>
                
              </p>
              <div id="method-i-proxy_user_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1049</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy_user</span>
  <span class="ruby-ivar">@proxy_user</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxyaddr">
            
              <b>proxyaddr</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-proxyaddr" name="method-i-proxyaddr" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxyport">
            
              <b>proxyport</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-proxyport" name="method-i-proxyport" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-read_timeout-3D">
            
              <b>read_timeout=</b>(sec)
            
            <a href="../../classes/Net/HTTP.html#method-i-read_timeout-3D" name="method-i-read_timeout-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Setter for the <a
href="HTTP.html#attribute-i-read_timeout">#read_timeout</a> attribute.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-read_timeout-3D_source')" id="l_method-i-read_timeout-3D_source">show</a>
                
              </p>
              <div id="method-i-read_timeout-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 714</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">read_timeout=</span>(<span class="ruby-identifier">sec</span>)
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-identifier">sec</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
  <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-identifier">sec</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-request">
            
              <b>request</b>(req, body = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-request" name="method-i-request" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends an <a href="HTTPRequest.html">HTTPRequest</a> object <code>req</code>
to the <a href="HTTP.html">HTTP</a> server.</p>

<p>If <code>req</code> is a <a href="HTTP/Post.html">Net::HTTP::Post</a> or <a
href="HTTP/Put.html">Net::HTTP::Put</a> request containing data, the data
is also sent. Providing data for a <a
href="HTTP/Head.html">Net::HTTP::Head</a> or <a
href="HTTP/Get.html">Net::HTTP::Get</a> request results in an <a
href="../ArgumentError.html">ArgumentError</a>.</p>

<p>Returns an <a href="HTTPResponse.html">HTTPResponse</a> object.</p>

<p>When called with a block, passes an <a
href="HTTPResponse.html">HTTPResponse</a> object to the block. The body of
the response will not have been read yet; the block can process it using <a
href="HTTPResponse.html#method-i-read_body">Net::HTTPResponse#read_body</a>,
if desired.</p>

<p>This method never raises Net::* exceptions.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-request_source')" id="l_method-i-request_source">show</a>
                
              </p>
              <div id="method-i-request_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1365</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)  <span class="ruby-comment"># :yield: +response+</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">started?</span>
    <span class="ruby-identifier">start</span> {
      <span class="ruby-identifier">req</span>[<span class="ruby-string">&#39;connection&#39;</span>] <span class="ruby-operator">||=</span> <span class="ruby-string">&#39;close&#39;</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">body</span>, &amp;<span class="ruby-identifier">block</span>)
    }
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_user</span>()
    <span class="ruby-identifier">req</span>.<span class="ruby-identifier">proxy_basic_auth</span> <span class="ruby-identifier">proxy_user</span>(), <span class="ruby-identifier">proxy_pass</span>() <span class="ruby-keyword">unless</span> <span class="ruby-identifier">use_ssl?</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">req</span>.<span class="ruby-identifier">set_body_internal</span> <span class="ruby-identifier">body</span>
  <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sspi_auth?</span>(<span class="ruby-identifier">res</span>)
    <span class="ruby-identifier">sspi_auth</span>(<span class="ruby-identifier">req</span>)
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-request_get">
            
              <b>request_get</b>(path, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-request_get" name="method-i-request_get" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a GET request to the <code>path</code>. Returns the response as a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object.</p>

<p>When called with a block, passes an <a
href="HTTPResponse.html">HTTPResponse</a> object to the block. The body of
the response will not have been read yet; the block can process it using <a
href="HTTPResponse.html#method-i-read_body">Net::HTTPResponse#read_body</a>,
if desired.</p>

<p>Returns the response.</p>

<p>This method never raises Net::* exceptions.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-string">&#39;/index.html&#39;</span>)
<span class="ruby-comment"># The entity body is already read in this case.</span>
<span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>

<span class="ruby-comment"># Using a block</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-string">&#39;/index.html&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
  <span class="ruby-identifier">response</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>   <span class="ruby-comment"># read body now</span>
    <span class="ruby-identifier">print</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
}
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="HTTP.html#method-i-get2">get2</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-request_get_source')" id="l_method-i-request_get_source">show</a>
                
              </p>
              <div id="method-i-request_get_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1277</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">request_get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +response+</span>
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-request_head">
            
              <b>request_head</b>(path, initheader = nil, &amp;block)
            
            <a href="../../classes/Net/HTTP.html#method-i-request_head" name="method-i-request_head" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a HEAD request to the <code>path</code> and returns the response as a
<a href="HTTPResponse.html">Net::HTTPResponse</a> object.</p>

<p>Returns the response.</p>

<p>This method never raises Net::* exceptions.</p>

<pre>response = http.request_head(&#39;/index.html&#39;)
p response[&#39;content-type&#39;]</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="HTTP.html#method-i-head2">head2</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-request_head_source')" id="l_method-i-request_head_source">show</a>
                
              </p>
              <div id="method-i-request_head_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1291</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">request_head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Head</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-request_post">
            
              <b>request_post</b>(path, data, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-request_post" name="method-i-request_post" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a POST request to the <code>path</code>.</p>

<p>Returns the response as a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.</p>

<p>When called with a block, the block is passed an <a
href="HTTPResponse.html">HTTPResponse</a> object.  The body of that
response will not have been read yet; the block can process it using <a
href="HTTPResponse.html#method-i-read_body">Net::HTTPResponse#read_body</a>,
if desired.</p>

<p>Returns the response.</p>

<p>This method never raises Net::* exceptions.</p>

<pre class="ruby"><span class="ruby-comment"># example</span>
<span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_post</span>(<span class="ruby-string">&#39;/cgi-bin/nice.rb&#39;</span>, <span class="ruby-string">&#39;datadatadata...&#39;</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">status</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>          <span class="ruby-comment"># body is already read in this case</span>

<span class="ruby-comment"># using block</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_post</span>(<span class="ruby-string">&#39;/cgi-bin/nice.rb&#39;</span>, <span class="ruby-string">&#39;datadatadata...&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
  <span class="ruby-identifier">response</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>   <span class="ruby-comment"># read body now</span>
    <span class="ruby-identifier">print</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
}
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="HTTP.html#method-i-post2">post2</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-request_post_source')" id="l_method-i-request_post_source">show</a>
                
              </p>
              <div id="method-i-request_post_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1321</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">request_post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +response+</span>
  <span class="ruby-identifier">request</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">data</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-send_request">
            
              <b>send_request</b>(name, path, data = nil, header = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-send_request" name="method-i-send_request" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends an <a href="HTTP.html">HTTP</a> request to the <a
href="HTTP.html">HTTP</a> server. Also sends a DATA string if
<code>data</code> is given.</p>

<p>Returns a <a href="HTTPResponse.html">Net::HTTPResponse</a> object.</p>

<p>This method never raises Net::* exceptions.</p>

<pre>response = http.send_request(&#39;GET&#39;, &#39;/index.html&#39;)
puts response.body</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-send_request_source')" id="l_method-i-send_request_source">show</a>
                
              </p>
              <div id="method-i-send_request_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1345</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">send_request</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">header</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">HTTPGenericRequest</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>,(<span class="ruby-identifier">data</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>),<span class="ruby-keyword">true</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">header</span>)
  <span class="ruby-identifier">request</span> <span class="ruby-identifier">r</span>, <span class="ruby-identifier">data</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-set_debug_output">
            
              <b>set_debug_output</b>(output)
            
            <a href="../../classes/Net/HTTP.html#method-i-set_debug_output" name="method-i-set_debug_output" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p><strong>WARNING</strong> This method opens a serious security hole. Never
use this method in production code.</p>

<p>Sets an output stream for debugging.</p>

<pre>http = Net::HTTP.new
http.set_debug_output $stderr
http.start { .... }</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-set_debug_output_source')" id="l_method-i-set_debug_output_source">show</a>
                
              </p>
              <div id="method-i-set_debug_output_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 678</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_debug_output</span>(<span class="ruby-identifier">output</span>)
  <span class="ruby-identifier">warn</span> <span class="ruby-string">&#39;Net::HTTP#set_debug_output called after HTTP started&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">started?</span>
  <span class="ruby-ivar">@debug_output</span> = <span class="ruby-identifier">output</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-start">
            
              <b>start</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-start" name="method-i-start" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Opens a TCP connection and <a href="HTTP.html">HTTP</a> session.</p>

<p>When this method is called with a block, it passes the <a
href="HTTP.html">Net::HTTP</a> object to the block, and closes the TCP
connection and <a href="HTTP.html">HTTP</a> session after the block has
been executed.</p>

<p>When called with a block, it returns the return value of the block;
otherwise, it returns self.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-start_source')" id="l_method-i-start_source">show</a>
                
              </p>
              <div id="method-i-start_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 847</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">start</span>  <span class="ruby-comment"># :yield: http</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-string">&#39;HTTP session already opened&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@started</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">do_start</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">yield</span>(<span class="ruby-keyword">self</span>)
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-identifier">do_finish</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">do_start</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-started-3F">
            
              <b>started?</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-started-3F" name="method-i-started-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if the <a href="HTTP.html">HTTP</a> session has been started.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="HTTP.html#method-i-active-3F">active?</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-started-3F_source')" id="l_method-i-started-3F_source">show</a>
                
              </p>
              <div id="method-i-started-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 737</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">started?</span>
  <span class="ruby-ivar">@started</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-trace">
            
              <b>trace</b>(path, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-trace" name="method-i-trace" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a TRACE request to the <code>path</code> and gets a response, as an
<a href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-trace_source')" id="l_method-i-trace_source">show</a>
                
              </p>
              <div id="method-i-trace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1248</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">trace</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Trace</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-unlock">
            
              <b>unlock</b>(path, body, initheader = nil)
            
            <a href="../../classes/Net/HTTP.html#method-i-unlock" name="method-i-unlock" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sends a UNLOCK request to the <code>path</code> and gets a response, as an
<a href="HTTPResponse.html">HTTPResponse</a> object.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-unlock_source')" id="l_method-i-unlock_source">show</a>
                
              </p>
              <div id="method-i-unlock_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">unlock</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Unlock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-use_ssl-3D">
            
              <b>use_ssl=</b>(flag)
            
            <a href="../../classes/Net/HTTP.html#method-i-use_ssl-3D" name="method-i-use_ssl-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Turn on/off SSL. This flag must be set before starting session. If you
change use_ssl value after session started, a <a
href="HTTP.html">Net::HTTP</a> object raises <a
href="../IOError.html">IOError</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-use_ssl-3D_source')" id="l_method-i-use_ssl-3D_source">show</a>
                
              </p>
              <div id="method-i-use_ssl-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 754</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">use_ssl=</span>(<span class="ruby-identifier">flag</span>)
  <span class="ruby-identifier">flag</span> = <span class="ruby-identifier">flag</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">started?</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@use_ssl</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">flag</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-string">&quot;use_ssl value changed, but session already started&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@use_ssl</span> = <span class="ruby-identifier">flag</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-use_ssl-3F">
            
              <b>use_ssl?</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-use_ssl-3F" name="method-i-use_ssl-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if SSL/TLS is being used with <a href="HTTP.html">HTTP</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-use_ssl-3F_source')" id="l_method-i-use_ssl-3F_source">show</a>
                
              </p>
              <div id="method-i-use_ssl-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 746</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">use_ssl?</span>
  <span class="ruby-ivar">@use_ssl</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
              
      <div class="sectiontitle">Instance Private methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-D">
            
              <b>D</b>(msg)
            
            <a href="../../classes/Net/HTTP.html#method-i-D" name="method-i-D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-D_source')" id="l_method-i-D_source">show</a>
                
              </p>
              <div id="method-i-D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1531</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">D</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@debug_output</span>
  <span class="ruby-ivar">@debug_output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">msg</span>
  <span class="ruby-ivar">@debug_output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-addr_port">
            
              <b>addr_port</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-addr_port" name="method-i-addr_port" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>utils</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-addr_port_source')" id="l_method-i-addr_port_source">show</a>
                
              </p>
              <div id="method-i-addr_port_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1523</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">addr_port</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_ssl?</span>
    <span class="ruby-identifier">address</span>() <span class="ruby-operator">+</span> (<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">https_default_port</span> <span class="ruby-operator">?</span> <span class="ruby-string">&#39;&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;:#{port()}&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">address</span>() <span class="ruby-operator">+</span> (<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">http_default_port</span> <span class="ruby-operator">?</span> <span class="ruby-string">&#39;&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;:#{port()}&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-begin_transport">
            
              <b>begin_transport</b>(req)
            
            <a href="../../classes/Net/HTTP.html#method-i-begin_transport" name="method-i-begin_transport" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-begin_transport_source')" id="l_method-i-begin_transport_source">show</a>
                
              </p>
              <div id="method-i-begin_transport_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1443</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">begin_transport</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
    <span class="ruby-identifier">connect</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@last_communicated</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@last_communicated</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@keep_alive_timeout</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
    <span class="ruby-constant">D</span> <span class="ruby-string">&#39;Conn close because of keep_alive_timeout&#39;</span>
    <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
    <span class="ruby-identifier">connect</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">response_body_permitted?</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@close_on_empty_response</span>
    <span class="ruby-identifier">req</span>[<span class="ruby-string">&#39;connection&#39;</span>] <span class="ruby-operator">||=</span> <span class="ruby-string">&#39;close&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">host</span> = <span class="ruby-identifier">req</span>[<span class="ruby-string">&#39;host&#39;</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">address</span>
  <span class="ruby-identifier">host</span> = <span class="ruby-node">$1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/(.*):\d+$/</span>
  <span class="ruby-identifier">req</span>.<span class="ruby-identifier">update_uri</span> <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">use_ssl?</span>

  <span class="ruby-identifier">req</span>[<span class="ruby-string">&#39;host&#39;</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">addr_port</span>()
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-connect">
            
              <b>connect</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-connect" name="method-i-connect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-connect_source')" id="l_method-i-connect_source">show</a>
                
              </p>
              <div id="method-i-connect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 867</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connect</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy?</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">conn_address</span> = <span class="ruby-identifier">proxy_address</span>
    <span class="ruby-identifier">conn_port</span>    = <span class="ruby-identifier">proxy_port</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">conn_address</span> = <span class="ruby-identifier">address</span>
    <span class="ruby-identifier">conn_port</span>    = <span class="ruby-identifier">port</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">D</span> <span class="ruby-node">&quot;opening connection to #{conn_address}:#{conn_port}...&quot;</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-constant">Timeout</span>.<span class="ruby-identifier">timeout</span>(<span class="ruby-ivar">@open_timeout</span>, <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">OpenTimeout</span>) {
    <span class="ruby-constant">TCPSocket</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">conn_address</span>, <span class="ruby-identifier">conn_port</span>, <span class="ruby-ivar">@local_host</span>, <span class="ruby-ivar">@local_port</span>)
  }
  <span class="ruby-constant">D</span> <span class="ruby-string">&quot;opened&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_ssl?</span>
    <span class="ruby-identifier">ssl_parameters</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">iv_list</span> = <span class="ruby-identifier">instance_variables</span>
    <span class="ruby-constant">SSL_IVNAMES</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ivname</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">iv_list</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">ivname</span>) <span class="ruby-keyword">and</span>
        <span class="ruby-identifier">value</span> = <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-identifier">ivname</span>)
        <span class="ruby-identifier">ssl_parameters</span>[<span class="ruby-constant">SSL_ATTRIBUTES</span>[<span class="ruby-identifier">i</span>]] = <span class="ruby-identifier">value</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@ssl_context</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLContext</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">set_params</span>(<span class="ruby-identifier">ssl_parameters</span>)
    <span class="ruby-constant">D</span> <span class="ruby-node">&quot;starting SSL for #{conn_address}:#{conn_port}...&quot;</span>
    <span class="ruby-identifier">s</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLSocket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>, <span class="ruby-ivar">@ssl_context</span>)
    <span class="ruby-identifier">s</span>.<span class="ruby-identifier">sync_close</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-constant">D</span> <span class="ruby-string">&quot;SSL established&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@socket</span> = <span class="ruby-constant">BufferedIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>)
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@read_timeout</span>
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">continue_timeout</span> = <span class="ruby-ivar">@continue_timeout</span>
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">debug_output</span> = <span class="ruby-ivar">@debug_output</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_ssl?</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy?</span>
        <span class="ruby-identifier">buf</span> = <span class="ruby-node">&quot;CONNECT #{@address}:#{@port} HTTP/#{HTTPVersion}\r\n&quot;</span>
        <span class="ruby-identifier">buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;Host: #{@address}:#{@port}\r\n&quot;</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_user</span>
          <span class="ruby-identifier">credential</span> = [<span class="ruby-node">&quot;#{proxy_user}:#{proxy_pass}&quot;</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;m&#39;</span>)
          <span class="ruby-identifier">credential</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-string">&quot;\r\n&quot;</span>)
          <span class="ruby-identifier">buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;Proxy-Authorization: Basic #{credential}\r\n&quot;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\r\n&quot;</span>
        <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">buf</span>)
        <span class="ruby-constant">HTTPResponse</span>.<span class="ruby-identifier">read_new</span>(<span class="ruby-ivar">@socket</span>).<span class="ruby-identifier">value</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">s</span>.<span class="ruby-identifier">session</span> = <span class="ruby-ivar">@ssl_session</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@ssl_session</span>
      <span class="ruby-comment"># Server Name Indication (SNI) RFC 3546</span>
      <span class="ruby-identifier">s</span>.<span class="ruby-identifier">hostname</span> = <span class="ruby-ivar">@address</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:hostname=</span>
      <span class="ruby-constant">Timeout</span>.<span class="ruby-identifier">timeout</span>(<span class="ruby-ivar">@open_timeout</span>, <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">OpenTimeout</span>) { <span class="ruby-identifier">s</span>.<span class="ruby-identifier">connect</span> }
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">verify_mode</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_NONE</span>
        <span class="ruby-identifier">s</span>.<span class="ruby-identifier">post_connection_check</span>(<span class="ruby-ivar">@address</span>)
      <span class="ruby-keyword">end</span>
      <span class="ruby-ivar">@ssl_session</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">session</span>
    <span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
      <span class="ruby-constant">D</span> <span class="ruby-node">&quot;Conn close because of connect error #{exception}&quot;</span>
      <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">on_connect</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-do_finish">
            
              <b>do_finish</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-do_finish" name="method-i-do_finish" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-do_finish_source')" id="l_method-i-do_finish_source">show</a>
                
              </p>
              <div id="method-i-do_finish_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 944</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">do_finish</span>
  <span class="ruby-ivar">@started</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
  <span class="ruby-ivar">@socket</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-do_start">
            
              <b>do_start</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-do_start" name="method-i-do_start" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-do_start_source')" id="l_method-i-do_start_source">show</a>
                
              </p>
              <div id="method-i-do_start_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 861</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">do_start</span>
  <span class="ruby-identifier">connect</span>
  <span class="ruby-ivar">@started</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-edit_path">
            
              <b>edit_path</b>(path)
            
            <a href="../../classes/Net/HTTP.html#method-i-edit_path" name="method-i-edit_path" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-edit_path_source')" id="l_method-i-edit_path_source">show</a>
                
              </p>
              <div id="method-i-edit_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1073</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">edit_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy?</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">use_ssl?</span> <span class="ruby-keyword">then</span>
    <span class="ruby-node">&quot;http://#{addr_port}#{path}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-end_transport">
            
              <b>end_transport</b>(req, res)
            
            <a href="../../classes/Net/HTTP.html#method-i-end_transport" name="method-i-end_transport" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-end_transport_source')" id="l_method-i-end_transport_source">show</a>
                
              </p>
              <div id="method-i-end_transport_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1463</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">end_transport</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
  <span class="ruby-ivar">@curr_http_version</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">http_version</span>
  <span class="ruby-ivar">@last_communicated</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
    <span class="ruby-constant">D</span> <span class="ruby-string">&#39;Conn socket closed&#39;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@close_on_empty_response</span>
    <span class="ruby-constant">D</span> <span class="ruby-string">&#39;Conn close&#39;</span>
    <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">keep_alive?</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
    <span class="ruby-constant">D</span> <span class="ruby-string">&#39;Conn keep-alive&#39;</span>
    <span class="ruby-ivar">@last_communicated</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">D</span> <span class="ruby-string">&#39;Conn close&#39;</span>
    <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-keep_alive-3F">
            
              <b>keep_alive?</b>(req, res)
            
            <a href="../../classes/Net/HTTP.html#method-i-keep_alive-3F" name="method-i-keep_alive-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-keep_alive-3F_source')" id="l_method-i-keep_alive-3F_source">show</a>
                
              </p>
              <div id="method-i-keep_alive-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1480</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">keep_alive?</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">connection_close?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@curr_http_version</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-string">&#39;1.0&#39;</span>
    <span class="ruby-identifier">res</span>.<span class="ruby-identifier">connection_keep_alive?</span>
  <span class="ruby-keyword">else</span>   <span class="ruby-comment"># HTTP/1.1 or later</span>
    <span class="ruby-keyword">not</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">connection_close?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-on_connect">
            
              <b>on_connect</b>()
            
            <a href="../../classes/Net/HTTP.html#method-i-on_connect" name="method-i-on_connect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-on_connect_source')" id="l_method-i-on_connect_source">show</a>
                
              </p>
              <div id="method-i-on_connect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 933</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">on_connect</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-send_entity">
            
              <b>send_entity</b>(path, data, initheader, dest, type, &amp;block)
            
            <a href="../../classes/Net/HTTP.html#method-i-send_entity" name="method-i-send_entity" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Executes a request which uses a representation and returns its body.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-send_entity_source')" id="l_method-i-send_entity_source">show</a>
                
              </p>
              <div id="method-i-send_entity_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1388</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">type</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">res</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">request</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">data</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, &amp;<span class="ruby-identifier">block</span>
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">r</span>
  }
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sspi_auth">
            
              <b>sspi_auth</b>(req)
            
            <a href="../../classes/Net/HTTP.html#method-i-sspi_auth" name="method-i-sspi_auth" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-sspi_auth_source')" id="l_method-i-sspi_auth_source">show</a>
                
              </p>
              <div id="method-i-sspi_auth_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1504</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sspi_auth</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-identifier">n</span> = <span class="ruby-constant">Win32</span><span class="ruby-operator">::</span><span class="ruby-constant">SSPI</span><span class="ruby-operator">::</span><span class="ruby-constant">NegotiateAuth</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&quot;Proxy-Authorization&quot;</span>] = <span class="ruby-node">&quot;Negotiate #{n.get_initial_token}&quot;</span>
  <span class="ruby-comment"># Some versions of ISA will close the connection if this isn&#39;t present.</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&quot;Connection&quot;</span>] = <span class="ruby-string">&quot;Keep-Alive&quot;</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&quot;Proxy-Connection&quot;</span>] = <span class="ruby-string">&quot;Keep-Alive&quot;</span>
  <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-identifier">authphrase</span> = <span class="ruby-identifier">res</span>[<span class="ruby-string">&quot;Proxy-Authenticate&quot;</span>]  <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">res</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&quot;Proxy-Authorization&quot;</span>] = <span class="ruby-node">&quot;Negotiate #{n.complete_authentication(authphrase)}&quot;</span>
<span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">HTTPAuthenticationError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;HTTP authentication failed&#39;</span>, <span class="ruby-identifier">err</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sspi_auth-3F">
            
              <b>sspi_auth?</b>(res)
            
            <a href="../../classes/Net/HTTP.html#method-i-sspi_auth-3F" name="method-i-sspi_auth-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-sspi_auth-3F_source')" id="l_method-i-sspi_auth-3F_source">show</a>
                
              </p>
              <div id="method-i-sspi_auth-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1489</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sspi_auth?</span>(<span class="ruby-identifier">res</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@sspi_enabled</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">HTTPProxyAuthenticationRequired</span>) <span class="ruby-keyword">and</span>
      <span class="ruby-identifier">proxy?</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">res</span>[<span class="ruby-string">&quot;Proxy-Authenticate&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;Negotiate&quot;</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;win32/sspi&#39;</span>
      <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span>
      <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-transport_request">
            
              <b>transport_request</b>(req)
            
            <a href="../../classes/Net/HTTP.html#method-i-transport_request" name="method-i-transport_request" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-transport_request_source')" id="l_method-i-transport_request_source">show</a>
                
              </p>
              <div id="method-i-transport_request_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/net/http.rb, line 1399</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">transport_request</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-identifier">count</span> = <span class="ruby-number">0</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">begin_transport</span> <span class="ruby-identifier">req</span>
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">catch</span>(<span class="ruby-value">:response</span>) {
      <span class="ruby-identifier">req</span>.<span class="ruby-identifier">exec</span> <span class="ruby-ivar">@socket</span>, <span class="ruby-ivar">@curr_http_version</span>, <span class="ruby-identifier">edit_path</span>(<span class="ruby-identifier">req</span>.<span class="ruby-identifier">path</span>)
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">res</span> = <span class="ruby-constant">HTTPResponse</span>.<span class="ruby-identifier">read_new</span>(<span class="ruby-ivar">@socket</span>)
        <span class="ruby-identifier">res</span>.<span class="ruby-identifier">decode_content</span> = <span class="ruby-identifier">req</span>.<span class="ruby-identifier">decode_content</span>
      <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">HTTPContinue</span>)

      <span class="ruby-identifier">res</span>.<span class="ruby-identifier">uri</span> = <span class="ruby-identifier">req</span>.<span class="ruby-identifier">uri</span>

      <span class="ruby-identifier">res</span>.<span class="ruby-identifier">reading_body</span>(<span class="ruby-ivar">@socket</span>, <span class="ruby-identifier">req</span>.<span class="ruby-identifier">response_body_permitted?</span>) {
        <span class="ruby-keyword">yield</span> <span class="ruby-identifier">res</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      }
      <span class="ruby-identifier">res</span>
    }
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">OpenTimeout</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">ReadTimeout</span>, <span class="ruby-constant">IOError</span>, <span class="ruby-constant">EOFError</span>,
         <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ECONNRESET</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ECONNABORTED</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>,
         <span class="ruby-comment"># avoid a dependency on OpenSSL</span>
         <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLError</span> <span class="ruby-operator">:</span> <span class="ruby-constant">IOError</span>,
         <span class="ruby-constant">Timeout</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">==</span> <span class="ruby-number">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">IDEMPOTENT_METHODS_</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">req</span>.<span class="ruby-identifier">method</span>)
      <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-number">1</span>
      <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
      <span class="ruby-constant">D</span> <span class="ruby-node">&quot;Conn close because of error #{exception}, and retry&quot;</span>
      <span class="ruby-keyword">retry</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-constant">D</span> <span class="ruby-node">&quot;Conn close because of error #{exception}&quot;</span>
    <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">end_transport</span> <span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
  <span class="ruby-constant">D</span> <span class="ruby-node">&quot;Conn close because of error #{exception}&quot;</span>
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    