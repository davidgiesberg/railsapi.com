<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>TclTkLib</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            TclTkLib 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/ext/tk/lib/multi-tk_rb.html">ext/tk/lib/multi-tk.rb</a></li>
            
            <li><a href="../files/ext/tk/tcltklib_c.html">ext/tk/tcltklib.c</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>wrap methods on <a href="TclTkLib.html">TclTkLib</a> : not permit calling
<a href="TclTkLib.html">TclTkLib</a> module methods</p>

<p>—- initialization —-</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="TclTkLib/EventFlag.html">TclTkLib::EventFlag</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="TclTkLib/RELEASE_TYPE.html">TclTkLib::RELEASE_TYPE</a>
        </li>
      
        <li>
          <span class="type">MODULE</span>
          <a href="TclTkLib/VarAccessFlag.html">TclTkLib::VarAccessFlag</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-_conv_listelement">_conv_listelement</a>,
              </li>
            
              
              <li>
                <a href="#method-c-_fromUTF8">_fromUTF8</a>,
              </li>
            
              
              <li>
                <a href="#method-c-_merge_tklist">_merge_tklist</a>,
              </li>
            
              
              <li>
                <a href="#method-c-_split_tklist">_split_tklist</a>,
              </li>
            
              
              <li>
                <a href="#method-c-_subst_Tcl_backslash">_subst_Tcl_backslash</a>,
              </li>
            
              
              <li>
                <a href="#method-c-_subst_UTF_backslash">_subst_UTF_backslash</a>,
              </li>
            
              
              <li>
                <a href="#method-c-_toUTF8">_toUTF8</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-do_one_event">do_one_event</a>,
              </li>
            
              
              <li>
                <a href="#method-c-do_thread_callback">do_thread_callback</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-encoding">encoding</a>,
              </li>
            
              
              <li>
                <a href="#method-c-encoding-3D">encoding=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-encoding_system">encoding_system</a>,
              </li>
            
              
              <li>
                <a href="#method-c-encoding_system-3D">encoding_system=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-get_eventloop_tick">get_eventloop_tick</a>,
              </li>
            
              
              <li>
                <a href="#method-c-get_eventloop_weight">get_eventloop_weight</a>,
              </li>
            
              
              <li>
                <a href="#method-c-get_eventloop_window_mode">get_eventloop_window_mode</a>,
              </li>
            
              
              <li>
                <a href="#method-c-get_no_event_wait">get_no_event_wait</a>,
              </li>
            
              
              <li>
                <a href="#method-c-get_release_type_name">get_release_type_name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-get_version">get_version</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-mainloop">mainloop</a>,
              </li>
            
              
              <li>
                <a href="#method-c-mainloop_abort_on_exception">mainloop_abort_on_exception</a>,
              </li>
            
              
              <li>
                <a href="#method-c-mainloop_abort_on_exception-3D">mainloop_abort_on_exception=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-mainloop_thread-3F">mainloop_thread?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-mainloop_watchdog">mainloop_watchdog</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-num_of_mainwindows">num_of_mainwindows</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-restart">restart</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-set_eventloop_tick">set_eventloop_tick</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_eventloop_weight">set_eventloop_weight</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_eventloop_window_mode">set_eventloop_window_mode</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_max_block_time">set_max_block_time</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_no_event_wait">set_no_event_wait</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">COMPILE_INFO</td>
            <td>=</td>
            <td class="attr-value">tcltklib_compile_info()</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><hr style="height: 10px"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">RELEASE_DATE</td>
            <td>=</td>
            <td class="attr-value">rb_obj_freeze(rb_str_new2(tcltklib_release_date))</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">FINALIZE_PROC_NAME</td>
            <td>=</td>
            <td class="attr-value">rb_str_new2(finalize_hook_name)</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">WINDOWING_SYSTEM</td>
            <td>=</td>
            <td class="attr-value">rb_obj_freeze(rb_str_new2(TK_WINDOWING_SYSTEM))</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-_conv_listelement">
            
              <b>_conv_listelement</b>(arg)
            
            <a href="../classes/TclTkLib.html#method-c-_conv_listelement" name="method-c-_conv_listelement" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-_conv_listelement_source')" id="l_method-c-_conv_listelement_source">show</a>
                
              </p>
              <div id="method-c-_conv_listelement_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2735</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">_conv_listelement</span>(<span class="ruby-identifier">arg</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">_conv_listelement</span>(<span class="ruby-identifier">arg</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-_fromUTF8">
            
              <b>_fromUTF8</b>(p1, p2 = v2)
            
            <a href="../classes/TclTkLib.html#method-c-_fromUTF8" name="method-c-_fromUTF8" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-_fromUTF8_source')" id="l_method-c-_fromUTF8_source">show</a>
                
              </p>
              <div id="method-c-_fromUTF8_source" class="dyn-source">
                <pre>static VALUE
lib_fromUTF8(argc, argv, self)
    int   argc;
    VALUE *argv;
    VALUE self;
{
    VALUE str, encodename;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;encodename) == 1) {
        encodename = Qnil;
    }
    return lib_fromUTF8_core(Qnil, str, encodename);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-_merge_tklist">
            
              <b>_merge_tklist</b>(*args)
            
            <a href="../classes/TclTkLib.html#method-c-_merge_tklist" name="method-c-_merge_tklist" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-_merge_tklist_source')" id="l_method-c-_merge_tklist_source">show</a>
                
              </p>
              <div id="method-c-_merge_tklist_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2732</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">_merge_tklist</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">_merge_tklist</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-_split_tklist">
            
              <b>_split_tklist</b>(p1)
            
            <a href="../classes/TclTkLib.html#method-c-_split_tklist" name="method-c-_split_tklist" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-_split_tklist_source')" id="l_method-c-_split_tklist_source">show</a>
                
              </p>
              <div id="method-c-_split_tklist_source" class="dyn-source">
                <pre>static VALUE
lib_split_tklist(self, list_str)
    VALUE self;
    VALUE list_str;
{
    return lib_split_tklist_core(Qnil, list_str);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-_subst_Tcl_backslash">
            
              <b>_subst_Tcl_backslash</b>(p1)
            
            <a href="../classes/TclTkLib.html#method-c-_subst_Tcl_backslash" name="method-c-_subst_Tcl_backslash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-_subst_Tcl_backslash_source')" id="l_method-c-_subst_Tcl_backslash_source">show</a>
                
              </p>
              <div id="method-c-_subst_Tcl_backslash_source" class="dyn-source">
                <pre>static VALUE
lib_Tcl_backslash(self, str)
    VALUE self;
    VALUE str;
{
    return lib_UTF_backslash_core(self, str, 1);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-_subst_UTF_backslash">
            
              <b>_subst_UTF_backslash</b>(p1)
            
            <a href="../classes/TclTkLib.html#method-c-_subst_UTF_backslash" name="method-c-_subst_UTF_backslash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-_subst_UTF_backslash_source')" id="l_method-c-_subst_UTF_backslash_source">show</a>
                
              </p>
              <div id="method-c-_subst_UTF_backslash_source" class="dyn-source">
                <pre>static VALUE
lib_UTF_backslash(self, str)
    VALUE self;
    VALUE str;
{
    return lib_UTF_backslash_core(self, str, 0);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-_toUTF8">
            
              <b>_toUTF8</b>(p1, p2 = v2)
            
            <a href="../classes/TclTkLib.html#method-c-_toUTF8" name="method-c-_toUTF8" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-_toUTF8_source')" id="l_method-c-_toUTF8_source">show</a>
                
              </p>
              <div id="method-c-_toUTF8_source" class="dyn-source">
                <pre>static VALUE
lib_toUTF8(argc, argv, self)
    int   argc;
    VALUE *argv;
    VALUE self;
{
    VALUE str, encodename;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;encodename) == 1) {
        encodename = Qnil;
    }
    return lib_toUTF8_core(Qnil, str, encodename);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-do_one_event">
            
              <b>do_one_event</b>(flag = TclTkLib::EventFlag::ALL)
            
            <a href="../classes/TclTkLib.html#method-c-do_one_event" name="method-c-do_one_event" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-do_one_event_source')" id="l_method-c-do_one_event_source">show</a>
                
              </p>
              <div id="method-c-do_one_event_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2701</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">do_one_event</span>(<span class="ruby-identifier">flag</span> = <span class="ruby-constant">TclTkLib</span><span class="ruby-operator">::</span><span class="ruby-constant">EventFlag</span><span class="ruby-operator">::</span><span class="ruby-constant">ALL</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">do_one_event</span>(<span class="ruby-identifier">flag</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-do_thread_callback">
            
              <b>do_thread_callback</b>(p1 = v1)
            
            <a href="../classes/TclTkLib.html#method-c-do_thread_callback" name="method-c-do_thread_callback" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-do_thread_callback_source')" id="l_method-c-do_thread_callback_source">show</a>
                
              </p>
              <div id="method-c-do_thread_callback_source" class="dyn-source">
                <pre>static VALUE
lib_thread_callback(argc, argv, self)
    int argc;
    VALUE *argv;
    VALUE self;
{
    struct thread_call_proc_arg *q;
    VALUE proc, th, ret;
    int status, foundEvent;

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;proc) == 0) {
        proc = rb_block_proc();
    }

    q = (struct thread_call_proc_arg *)ALLOC(struct thread_call_proc_arg);
    /* q = RbTk_ALLOC_N(struct thread_call_proc_arg, 1); */
    q-&gt;proc = proc;
    q-&gt;done = (int*)ALLOC(int);
    /* q-&gt;done = RbTk_ALLOC_N(int, 1); */
    *(q-&gt;done) = 0;

    /* create call-proc thread */
    th = rb_thread_create(_thread_call_proc, (void*)q);

    rb_thread_schedule();

    /* start sub-eventloop */
    foundEvent = RTEST(lib_eventloop_launcher(/* not check root-widget */0, 0,
                                              q-&gt;done, (Tcl_Interp*)NULL));

#ifdef RUBY_VM
    if (RTEST(rb_funcall(th, ID_alive_p, 0))) {
#else
    if (RTEST(rb_thread_alive_p(th))) {
#endif
        rb_funcall(th, ID_kill, 0);
        ret = Qnil;
    } else {
        ret = rb_protect(_thread_call_proc_value, th, &amp;status);
    }

    xfree(q-&gt;done);
    xfree(q);
    /* ckfree((char*)q-&gt;done); */
    /* ckfree((char*)q); */

    if (NIL_P(rbtk_pending_exception)) {
        /* return rb_errinfo(); */
        if (status) {
            rb_exc_raise(rb_errinfo());
        }
    } else {
        VALUE exc = rbtk_pending_exception;
        rbtk_pending_exception = Qnil;
        /* return exc; */
        rb_exc_raise(exc);
    }

    return ret;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-encoding">
            
              <b>encoding</b>()
            
            <a href="../classes/TclTkLib.html#method-c-encoding" name="method-c-encoding" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-encoding_source')" id="l_method-c-encoding_source">show</a>
                
              </p>
              <div id="method-c-encoding_source" class="dyn-source">
                <pre>static VALUE
lib_get_system_encoding(self)
    VALUE self;
{
#if TCL_MAJOR_VERSION &gt; 8 || (TCL_MAJOR_VERSION == 8 &amp;&amp; TCL_MINOR_VERSION &gt; 0)
    tcl_stubs_check();
    return rb_str_new2(Tcl_GetEncodingName((Tcl_Encoding)NULL));
#else
    return Qnil;
#endif
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-encoding-3D">
            
              <b>encoding=</b>(p1)
            
            <a href="../classes/TclTkLib.html#method-c-encoding-3D" name="method-c-encoding-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-encoding-3D_source')" id="l_method-c-encoding-3D_source">show</a>
                
              </p>
              <div id="method-c-encoding-3D_source" class="dyn-source">
                <pre>static VALUE
lib_set_system_encoding(self, enc_name)
    VALUE self;
    VALUE enc_name;
{
#if TCL_MAJOR_VERSION &gt; 8 || (TCL_MAJOR_VERSION == 8 &amp;&amp; TCL_MINOR_VERSION &gt; 0)
    tcl_stubs_check();

    if (NIL_P(enc_name)) {
        Tcl_SetSystemEncoding((Tcl_Interp *)NULL, (CONST char *)NULL);
        return lib_get_system_encoding(self);
    }

    enc_name = rb_funcall(enc_name, ID_to_s, 0, 0);
    if (Tcl_SetSystemEncoding((Tcl_Interp *)NULL,
                              StringValuePtr(enc_name)) != TCL_OK) {
        rb_raise(rb_eArgError, &quot;unknown encoding name &#39;%s&#39;&quot;,
                 RSTRING_PTR(enc_name));
    }

    return enc_name;
#else
    return Qnil;
#endif
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-encoding_system">
            
              <b>encoding_system</b>()
            
            <a href="../classes/TclTkLib.html#method-c-encoding_system" name="method-c-encoding_system" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-encoding_system_source')" id="l_method-c-encoding_system_source">show</a>
                
              </p>
              <div id="method-c-encoding_system_source" class="dyn-source">
                <pre>static VALUE
lib_get_system_encoding(self)
    VALUE self;
{
#if TCL_MAJOR_VERSION &gt; 8 || (TCL_MAJOR_VERSION == 8 &amp;&amp; TCL_MINOR_VERSION &gt; 0)
    tcl_stubs_check();
    return rb_str_new2(Tcl_GetEncodingName((Tcl_Encoding)NULL));
#else
    return Qnil;
#endif
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-encoding_system-3D">
            
              <b>encoding_system=</b>(p1)
            
            <a href="../classes/TclTkLib.html#method-c-encoding_system-3D" name="method-c-encoding_system-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-encoding_system-3D_source')" id="l_method-c-encoding_system-3D_source">show</a>
                
              </p>
              <div id="method-c-encoding_system-3D_source" class="dyn-source">
                <pre>static VALUE
lib_set_system_encoding(self, enc_name)
    VALUE self;
    VALUE enc_name;
{
#if TCL_MAJOR_VERSION &gt; 8 || (TCL_MAJOR_VERSION == 8 &amp;&amp; TCL_MINOR_VERSION &gt; 0)
    tcl_stubs_check();

    if (NIL_P(enc_name)) {
        Tcl_SetSystemEncoding((Tcl_Interp *)NULL, (CONST char *)NULL);
        return lib_get_system_encoding(self);
    }

    enc_name = rb_funcall(enc_name, ID_to_s, 0, 0);
    if (Tcl_SetSystemEncoding((Tcl_Interp *)NULL,
                              StringValuePtr(enc_name)) != TCL_OK) {
        rb_raise(rb_eArgError, &quot;unknown encoding name &#39;%s&#39;&quot;,
                 RSTRING_PTR(enc_name));
    }

    return enc_name;
#else
    return Qnil;
#endif
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get_eventloop_tick">
            
              <b>get_eventloop_tick</b>()
            
            <a href="../classes/TclTkLib.html#method-c-get_eventloop_tick" name="method-c-get_eventloop_tick" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_eventloop_tick_source')" id="l_method-c-get_eventloop_tick_source">show</a>
                
              </p>
              <div id="method-c-get_eventloop_tick_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2713</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">get_eventloop_tick</span>
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">get_eventloop_tick</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get_eventloop_weight">
            
              <b>get_eventloop_weight</b>()
            
            <a href="../classes/TclTkLib.html#method-c-get_eventloop_weight" name="method-c-get_eventloop_weight" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_eventloop_weight_source')" id="l_method-c-get_eventloop_weight_source">show</a>
                
              </p>
              <div id="method-c-get_eventloop_weight_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2725</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">get_eventloop_weight</span>
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">get_eventloop_weight</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get_eventloop_window_mode">
            
              <b>get_eventloop_window_mode</b>()
            
            <a href="../classes/TclTkLib.html#method-c-get_eventloop_window_mode" name="method-c-get_eventloop_window_mode" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_eventloop_window_mode_source')" id="l_method-c-get_eventloop_window_mode_source">show</a>
                
              </p>
              <div id="method-c-get_eventloop_window_mode_source" class="dyn-source">
                <pre>static VALUE
get_eventloop_window_mode(self)
    VALUE self;
{
    if ( ~window_event_mode ) {
      return Qfalse;
    } else {
      return Qtrue;
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get_no_event_wait">
            
              <b>get_no_event_wait</b>()
            
            <a href="../classes/TclTkLib.html#method-c-get_no_event_wait" name="method-c-get_no_event_wait" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_no_event_wait_source')" id="l_method-c-get_no_event_wait_source">show</a>
                
              </p>
              <div id="method-c-get_no_event_wait_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2719</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">get_no_event_wait</span>
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">get_no_event_wait</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get_release_type_name">
            
              <b>get_release_type_name</b>(*args)
            
            <a href="../classes/TclTkLib.html#method-c-get_release_type_name" name="method-c-get_release_type_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_release_type_name_source')" id="l_method-c-get_release_type_name_source">show</a>
                
              </p>
              <div id="method-c-get_release_type_name_source" class="dyn-source">
                <pre>static VALUE
lib_get_reltype_name(self)
    VALUE self;
{
    set_tcltk_version();

    switch(tcltk_version.type) {
    case TCL_ALPHA_RELEASE:
      return rb_str_new2(&quot;alpha&quot;);
    case TCL_BETA_RELEASE:
      return rb_str_new2(&quot;beta&quot;);
    case TCL_FINAL_RELEASE:
      return rb_str_new2(&quot;final&quot;);
    default:
      rb_raise(rb_eRuntimeError, &quot;tcltklib has invalid release type number&quot;);
    }

    UNREACHABLE;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-get_version">
            
              <b>get_version</b>(*args)
            
            <a href="../classes/TclTkLib.html#method-c-get_version" name="method-c-get_version" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-get_version_source')" id="l_method-c-get_version_source">show</a>
                
              </p>
              <div id="method-c-get_version_source" class="dyn-source">
                <pre>static VALUE
lib_getversion(self)
    VALUE self;
{
    set_tcltk_version();

    return rb_ary_new3(4, INT2NUM(tcltk_version.major),
                          INT2NUM(tcltk_version.minor),
                          INT2NUM(tcltk_version.type),
                          INT2NUM(tcltk_version.patchlevel));
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mainloop">
            
              <b>mainloop</b>(check_root = true)
            
            <a href="../classes/TclTkLib.html#method-c-mainloop" name="method-c-mainloop" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>execute Tk_MainLoop</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-mainloop_source')" id="l_method-c-mainloop_source">show</a>
                
              </p>
              <div id="method-c-mainloop_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2695</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mainloop</span>(<span class="ruby-identifier">check_root</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">mainloop</span>(<span class="ruby-identifier">check_root</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mainloop_abort_on_exception">
            
              <b>mainloop_abort_on_exception</b>()
            
            <a href="../classes/TclTkLib.html#method-c-mainloop_abort_on_exception" name="method-c-mainloop_abort_on_exception" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-mainloop_abort_on_exception_source')" id="l_method-c-mainloop_abort_on_exception_source">show</a>
                
              </p>
              <div id="method-c-mainloop_abort_on_exception_source" class="dyn-source">
                <pre>static VALUE
lib_evloop_abort_on_exc(self)
    VALUE self;
{
    if (event_loop_abort_on_exc &gt; 0) {
        return Qtrue;
    } else if (event_loop_abort_on_exc == 0) {
        return Qfalse;
    } else {
        return Qnil;
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mainloop_abort_on_exception-3D">
            
              <b>mainloop_abort_on_exception=</b>(p1)
            
            <a href="../classes/TclTkLib.html#method-c-mainloop_abort_on_exception-3D" name="method-c-mainloop_abort_on_exception-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-mainloop_abort_on_exception-3D_source')" id="l_method-c-mainloop_abort_on_exception-3D_source">show</a>
                
              </p>
              <div id="method-c-mainloop_abort_on_exception-3D_source" class="dyn-source">
                <pre>static VALUE
lib_evloop_abort_on_exc_set(self, val)
    VALUE self, val;
{
    rb_secure(4);
    if (RTEST(val)) {
        event_loop_abort_on_exc =  1;
    } else if (NIL_P(val)) {
        event_loop_abort_on_exc = -1;
    } else {
        event_loop_abort_on_exc =  0;
    }
    return lib_evloop_abort_on_exc(self);
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mainloop_thread-3F">
            
              <b>mainloop_thread?</b>()
            
            <a href="../classes/TclTkLib.html#method-c-mainloop_thread-3F" name="method-c-mainloop_thread-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-mainloop_thread-3F_source')" id="l_method-c-mainloop_thread-3F_source">show</a>
                
              </p>
              <div id="method-c-mainloop_thread-3F_source" class="dyn-source">
                <pre>static VALUE
lib_evloop_thread_p(self)
    VALUE self;
{
    if (NIL_P(eventloop_thread)) {
        return Qnil;    /* no eventloop */
    } else if (rb_thread_current() == eventloop_thread) {
        return Qtrue;   /* is eventloop */
    } else {
        return Qfalse;  /* not eventloop */
    }
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-mainloop_watchdog">
            
              <b>mainloop_watchdog</b>(check_root = true)
            
            <a href="../classes/TclTkLib.html#method-c-mainloop_watchdog" name="method-c-mainloop_watchdog" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-mainloop_watchdog_source')" id="l_method-c-mainloop_watchdog_source">show</a>
                
              </p>
              <div id="method-c-mainloop_watchdog_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2698</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mainloop_watchdog</span>(<span class="ruby-identifier">check_root</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">mainloop_watchdog</span>(<span class="ruby-identifier">check_root</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-num_of_mainwindows">
            
              <b>num_of_mainwindows</b>()
            
            <a href="../classes/TclTkLib.html#method-c-num_of_mainwindows" name="method-c-num_of_mainwindows" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-num_of_mainwindows_source')" id="l_method-c-num_of_mainwindows_source">show</a>
                
              </p>
              <div id="method-c-num_of_mainwindows_source" class="dyn-source">
                <pre>static VALUE
lib_num_of_mainwindows(self)
    VALUE self;
{
#ifdef RUBY_USE_NATIVE_THREAD  /* Ruby 1.9+ !!! */
    return tk_funcall(lib_num_of_mainwindows_core, 0, (VALUE*)NULL, self);
#else
    return lib_num_of_mainwindows_core(self, 0, (VALUE*)NULL);
#endif
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-restart">
            
              <b>restart</b>(*args)
            
            <a href="../classes/TclTkLib.html#method-c-restart" name="method-c-restart" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-restart_source')" id="l_method-c-restart_source">show</a>
                
              </p>
              <div id="method-c-restart_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2728</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">restart</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">restart</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_eventloop_tick">
            
              <b>set_eventloop_tick</b>(tick)
            
            <a href="../classes/TclTkLib.html#method-c-set_eventloop_tick" name="method-c-set_eventloop_tick" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>def <a
href="TclTkLib.html#method-c-mainloop_abort_on_exception">::mainloop_abort_on_exception</a></p>

<pre>MultiTkIp.mainloop_abort_on_exception</pre>

<p>end def <a
href="TclTkLib.html#method-c-mainloop_abort_on_exception">::mainloop_abort_on_exception</a>=(mode)</p>

<pre>MultiTkIp.mainloop_abort_on_exception=(mode)</pre>

<p>end</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_eventloop_tick_source')" id="l_method-c-set_eventloop_tick_source">show</a>
                
              </p>
              <div id="method-c-set_eventloop_tick_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2710</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_eventloop_tick</span>(<span class="ruby-identifier">tick</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">set_eventloop_tick</span>(<span class="ruby-identifier">tick</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_eventloop_weight">
            
              <b>set_eventloop_weight</b>(loop_max, no_event_tick)
            
            <a href="../classes/TclTkLib.html#method-c-set_eventloop_weight" name="method-c-set_eventloop_weight" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_eventloop_weight_source')" id="l_method-c-set_eventloop_weight_source">show</a>
                
              </p>
              <div id="method-c-set_eventloop_weight_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2722</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_eventloop_weight</span>(<span class="ruby-identifier">loop_max</span>, <span class="ruby-identifier">no_event_tick</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">set_eventloop_weight</span>(<span class="ruby-identifier">loop_max</span>, <span class="ruby-identifier">no_event_tick</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_eventloop_window_mode">
            
              <b>set_eventloop_window_mode</b>(p1)
            
            <a href="../classes/TclTkLib.html#method-c-set_eventloop_window_mode" name="method-c-set_eventloop_window_mode" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_eventloop_window_mode_source')" id="l_method-c-set_eventloop_window_mode_source">show</a>
                
              </p>
              <div id="method-c-set_eventloop_window_mode_source" class="dyn-source">
                <pre>static VALUE
set_eventloop_window_mode(self, mode)
    VALUE self;
    VALUE mode;
{
    rb_secure(4);

    if (RTEST(mode)) {
      window_event_mode = ~0;
    } else {
      window_event_mode = ~TCL_WINDOW_EVENTS;
    }

    return mode;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_max_block_time">
            
              <b>set_max_block_time</b>(p1)
            
            <a href="../classes/TclTkLib.html#method-c-set_max_block_time" name="method-c-set_max_block_time" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_max_block_time_source')" id="l_method-c-set_max_block_time_source">show</a>
                
              </p>
              <div id="method-c-set_max_block_time_source" class="dyn-source">
                <pre>static VALUE
set_max_block_time(self, time)
    VALUE self;
    VALUE time;
{
    struct Tcl_Time tcl_time;
    VALUE divmod;

    switch(TYPE(time)) {
    case T_FIXNUM:
    case T_BIGNUM:
        /* time is micro-second value */
        divmod = rb_funcall(time, rb_intern(&quot;divmod&quot;), 1, LONG2NUM(1000000));
        tcl_time.sec  = NUM2LONG(RARRAY_PTR(divmod)[0]);
        tcl_time.usec = NUM2LONG(RARRAY_PTR(divmod)[1]);
        break;

    case T_FLOAT:
        /* time is second value */
        divmod = rb_funcall(time, rb_intern(&quot;divmod&quot;), 1, INT2FIX(1));
        tcl_time.sec  = NUM2LONG(RARRAY_PTR(divmod)[0]);
        tcl_time.usec = (long)(NUM2DBL(RARRAY_PTR(divmod)[1]) * 1000000);

    default:
        {
            VALUE tmp = rb_funcall(time, ID_inspect, 0, 0);
            rb_raise(rb_eArgError, &quot;invalid value for time: &#39;%s&#39;&quot;,
                     StringValuePtr(tmp));
        }
    }

    Tcl_SetMaxBlockTime(&amp;tcl_time);

    return Qnil;
}</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_no_event_wait">
            
              <b>set_no_event_wait</b>(tick)
            
            <a href="../classes/TclTkLib.html#method-c-set_no_event_wait" name="method-c-set_no_event_wait" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_no_event_wait_source')" id="l_method-c-set_no_event_wait_source">show</a>
                
              </p>
              <div id="method-c-set_no_event_wait_source" class="dyn-source">
                <pre><span class="ruby-comment"># File ext/tk/lib/multi-tk.rb, line 2716</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_no_event_wait</span>(<span class="ruby-identifier">tick</span>)
  <span class="ruby-constant">MultiTkIp</span>.<span class="ruby-identifier">set_no_event_wait</span>(<span class="ruby-identifier">tick</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                        </div>

    </div>
  </body>
</html>    