<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>XMLRPC::Client</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            XMLRPC::Client 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/xmlrpc/client_rb.html">lib/xmlrpc/client.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Provides remote procedure calls to a XML-RPC server.</p>

<p>After setting the connection-parameters with <a
href="Client.html#method-c-new">::new</a> which creates a new <a
href="Client.html">XMLRPC::Client</a> instance, you can execute a remote
procedure by sending the <a href="Client.html#method-i-call">#call</a> or
<a href="Client.html#method-i-call2">#call2</a> message to this new
instance.</p>

<p>The given parameters indicate which method to call on the remote-side and
of course the parameters for the remote procedure.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/client&quot;</span>

<span class="ruby-identifier">server</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;www.ruby-lang.org&quot;</span>, <span class="ruby-string">&quot;/RPC2&quot;</span>, <span class="ruby-value">80</span>)
<span class="ruby-keyword">begin</span>
  <span class="ruby-identifier">param</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">call</span>(<span class="ruby-string">&quot;michael.add&quot;</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;4 + 5 = #{param}&quot;</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">FaultException</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;Error:&quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">faultCode</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">faultString</span>
<span class="ruby-keyword">end</span>
</pre>

<p>or</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;xmlrpc/client&quot;</span>

<span class="ruby-identifier">server</span> = <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;www.ruby-lang.org&quot;</span>, <span class="ruby-string">&quot;/RPC2&quot;</span>, <span class="ruby-value">80</span>)
<span class="ruby-identifier">ok</span>, <span class="ruby-identifier">param</span> = <span class="ruby-identifier">server</span>.<span class="ruby-identifier">call2</span>(<span class="ruby-string">&quot;michael.add&quot;</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>)
<span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span> <span class="ruby-keyword">then</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;4 + 5 = #{param}&quot;</span>
<span class="ruby-keyword">else</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;Error:&quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">param</span>.<span class="ruby-identifier">faultCode</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">param</span>.<span class="ruby-identifier">faultString</span>
<span class="ruby-keyword">end</span>
</pre>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="Client/Proxy.html">XMLRPC::Client::Proxy</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-call">call</a>,
              </li>
            
              
              <li>
                <a href="#method-i-call2">call2</a>,
              </li>
            
              
              <li>
                <a href="#method-i-call2_async">call2_async</a>,
              </li>
            
              
              <li>
                <a href="#method-i-call_async">call_async</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-do_rpc">do_rpc</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-gen_multicall">gen_multicall</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-multicall">multicall</a>,
              </li>
            
              
              <li>
                <a href="#method-i-multicall2">multicall2</a>,
              </li>
            
              
              <li>
                <a href="#method-i-multicall2_async">multicall2_async</a>,
              </li>
            
              
              <li>
                <a href="#method-i-multicall_async">multicall_async</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-net_http">net_http</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new2">new2</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new3">new3</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new_from_hash">new_from_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-c-new_from_uri">new_from_uri</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-password-3D">password=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy">proxy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy2">proxy2</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy2_async">proxy2_async</a>,
              </li>
            
              
              <li>
                <a href="#method-i-proxy_async">proxy_async</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-set_auth">set_auth</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-timeout-3D">timeout=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-user-3D">user=</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="ParserWriterChooseMixin.html">
              XMLRPC::ParserWriterChooseMixin
            </a>
          
        </li>
      
        <li>
          
            <a href="ParseContentType.html">
              XMLRPC::ParseContentType
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">USER_AGENT</td>
            <td>=</td>
            <td class="attr-value">&quot;XMLRPC::Client (Ruby #{RUBY_VERSION})&quot;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>cookie</td>
            <td class='attr-desc'><p>Get and set the HTTP Cookie header.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>http_header_extra</td>
            <td class='attr-desc'><p>Add additional HTTP headers to the request</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>http_last_response</td>
            <td class='attr-desc'><p>Returns the <a href="../Net/HTTPResponse.html">Net::HTTPResponse</a> object
of the last RPC.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>password</td>
            <td class='attr-desc'><p>Return the corresponding attributes.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>timeout</td>
            <td class='attr-desc'><p>Return the corresponding attributes.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>user</td>
            <td class='attr-desc'><p>Return the corresponding attributes.</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(host=nil, path=nil, port=nil, proxy_host=nil, proxy_port=nil, user=nil, password=nil, use_ssl=nil, timeout=nil)
            
            <a href="../../classes/XMLRPC/Client.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates an object which represents the remote XML-RPC server on the given
<code>host</code>. If the server is CGI-based, <code>path</code> is the
path to the CGI-script, which will be called, otherwise (in the case of a
standalone server) <code>path</code> should be
<code>&quot;/RPC2&quot;</code>. <code>port</code> is the port on which the
XML-RPC server listens.</p>

<p>If <code>proxy_host</code> is given, then a proxy server listening at
<code>proxy_host</code> is used. <code>proxy_port</code> is the port of the
proxy server.</p>

<p>Default values for <code>host</code>, <code>path</code> and
<code>port</code> are &#39;localhost&#39;, &#39;/RPC2&#39; and &#39;80&#39;
respectively using SSL &#39;443&#39;.</p>

<p>If <code>user</code> and <code>password</code> are given, each time a
request is sent, an Authorization header is sent. Currently only Basic
Authentication is implemented, no <a href="../Digest.html">Digest</a>.</p>

<p>If <code>use_ssl</code> is set to <code>true</code>, communication over SSL
is enabled.</p>

<p>Note, that you need the SSL package from RAA installed.</p>

<p>Parameter <code>timeout</code> is the time to wait for a XML-RPC response,
defaults to 30.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">host</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">path</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">proxy_host</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">proxy_port</span>=<span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">user</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">password</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">use_ssl</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">timeout</span>=<span class="ruby-keyword">nil</span>)

  <span class="ruby-ivar">@http_header_extra</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@http_last_response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@cookie</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@host</span>       = <span class="ruby-identifier">host</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;localhost&quot;</span>
  <span class="ruby-ivar">@path</span>       = <span class="ruby-identifier">path</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;/RPC2&quot;</span>
  <span class="ruby-ivar">@proxy_host</span> = <span class="ruby-identifier">proxy_host</span>
  <span class="ruby-ivar">@proxy_port</span> = <span class="ruby-identifier">proxy_port</span>
  <span class="ruby-ivar">@proxy_host</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&#39;localhost&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_port</span> <span class="ruby-operator">||=</span> <span class="ruby-number">8080</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_host</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@use_ssl</span>    = <span class="ruby-identifier">use_ssl</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@timeout</span>    = <span class="ruby-identifier">timeout</span> <span class="ruby-operator">||</span> <span class="ruby-number">30</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_ssl</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;net/https&quot;</span>
    <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-number">443</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-number">80</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@user</span>, <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span>

  <span class="ruby-identifier">set_auth</span>

  <span class="ruby-comment"># convert ports to integers</span>
  <span class="ruby-ivar">@port</span> = <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_port</span> = <span class="ruby-ivar">@proxy_port</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>

  <span class="ruby-comment"># HTTP object for synchronous calls</span>
  <span class="ruby-ivar">@http</span> = <span class="ruby-identifier">net_http</span>(<span class="ruby-ivar">@host</span>, <span class="ruby-ivar">@port</span>, <span class="ruby-ivar">@proxy_host</span>, <span class="ruby-ivar">@proxy_port</span>)
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">use_ssl</span> = <span class="ruby-ivar">@use_ssl</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@use_ssl</span>
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@timeout</span>
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">open_timeout</span> = <span class="ruby-ivar">@timeout</span>

  <span class="ruby-ivar">@parser</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@create</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new2">
            
              <b>new2</b>(uri, proxy=nil, timeout=nil)
            
            <a href="../../classes/XMLRPC/Client.html#method-c-new2" name="method-c-new2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates an object which represents the remote XML-RPC server at the given
<code>uri</code>. The <a href="../URI.html">URI</a> should have a host,
port, path, user and password. Example: <a
href="https://user:password@host:port/path">user:password@host:port/path</a></p>

<p>Raises an <a href="../ArgumentError.html">ArgumentError</a> if the
<code>uri</code> is invalid, or if the protocol isn&#39;t http or https.</p>

<p>If a <code>proxy</code> is given it should be in the form of “host:port”.</p>

<p>The optional <code>timeout</code> defaults to 30 seconds.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Client.html#method-c-new_from_uri">new_from_uri</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new2_source')" id="l_method-c-new2_source">show</a>
                
              </p>
              <div id="method-c-new2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">new2</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">proxy</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">timeout</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">url</span> = <span class="ruby-constant">URI</span>(<span class="ruby-identifier">uri</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidURIError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">url</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Wrong protocol specified. Only http or https allowed!&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">proto</span>  = <span class="ruby-identifier">url</span>.<span class="ruby-identifier">scheme</span>
  <span class="ruby-identifier">user</span>   = <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>
  <span class="ruby-identifier">passwd</span> = <span class="ruby-identifier">url</span>.<span class="ruby-identifier">password</span>
  <span class="ruby-identifier">host</span>   = <span class="ruby-identifier">url</span>.<span class="ruby-identifier">host</span>
  <span class="ruby-identifier">port</span>   = <span class="ruby-identifier">url</span>.<span class="ruby-identifier">port</span>
  <span class="ruby-identifier">path</span>   = <span class="ruby-identifier">url</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">request_uri</span>

  <span class="ruby-identifier">proxy_host</span>, <span class="ruby-identifier">proxy_port</span> = (<span class="ruby-identifier">proxy</span> <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;:&quot;</span>)
  <span class="ruby-identifier">proxy_port</span> = <span class="ruby-identifier">proxy_port</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_port</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">proxy_host</span>, <span class="ruby-identifier">proxy_port</span>, <span class="ruby-identifier">user</span>, <span class="ruby-identifier">passwd</span>, (<span class="ruby-identifier">proto</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;https&quot;</span>), <span class="ruby-identifier">timeout</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new3">
            
              <b>new3</b>(hash={})
            
            <a href="../../classes/XMLRPC/Client.html#method-c-new3" name="method-c-new3" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Receives a <a href="../Hash.html">Hash</a> and calls <a
href="Client.html#method-c-new">::new</a> with the corresponding values.</p>

<p>The <code>hash</code> parameter has following case-insensitive keys:</p>
<ul><li>
<p>host</p>
</li><li>
<p>path</p>
</li><li>
<p>port</p>
</li><li>
<p>proxy_host</p>
</li><li>
<p>proxy_port</p>
</li><li>
<p>user</p>
</li><li>
<p>password</p>
</li><li>
<p>use_ssl</p>
</li><li>
<p>timeout</p>
</li></ul>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Client.html#method-c-new_from_hash">new_from_hash</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new3_source')" id="l_method-c-new3_source">show</a>
                
              </p>
              <div id="method-c-new3_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">new3</span>(<span class="ruby-identifier">hash</span>={})

  <span class="ruby-comment"># convert all keys into lowercase strings</span>
  <span class="ruby-identifier">h</span> = {}
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>] = <span class="ruby-identifier">v</span> }

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;host&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;path&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;port&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;proxy_host&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;proxy_port&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;user&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;password&#39;</span>],
           <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;use_ssl&#39;</span>], <span class="ruby-identifier">h</span>[<span class="ruby-string">&#39;timeout&#39;</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new_from_hash">
            
              <b>new_from_hash</b>(hash={})
            
            <a href="../../classes/XMLRPC/Client.html#method-c-new_from_hash" name="method-c-new_from_hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new_from_uri">
            
              <b>new_from_uri</b>(uri, proxy=nil, timeout=nil)
            
            <a href="../../classes/XMLRPC/Client.html#method-c-new_from_uri" name="method-c-new_from_uri" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-call">
            
              <b>call</b>(method, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-call" name="method-i-call" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Invokes the method named <code>method</code> with the parameters given by
<code>args</code> on the XML-RPC server.</p>

<p>The <code>method</code> parameter is converted into a String and should be
a valid XML-RPC method-name.</p>

<p>Each parameter of <code>args</code> must be of one of the following types,
where <a href="../Hash.html">Hash</a>, <a href="../Struct.html">Struct</a>
and Array can contain any of these listed <em>types</em>:</p>
<ul><li>
<p>Fixnum, Bignum</p>
</li><li>
<p><a href="../TrueClass.html">TrueClass</a>, <a
href="../FalseClass.html">FalseClass</a>, <code>true</code>,
<code>false</code></p>
</li><li>
<p>String, <a href="../Symbol.html">Symbol</a></p>
</li><li>
<p><a href="../Float.html">Float</a></p>
</li><li>
<p><a href="../Hash.html">Hash</a>, <a href="../Struct.html">Struct</a></p>
</li><li>
<p>Array</p>
</li><li>
<p>Date, <a href="../Time.html">Time</a>, <a
href="DateTime.html">XMLRPC::DateTime</a></p>
</li><li>
<p><a href="Base64.html">XMLRPC::Base64</a></p>
</li><li>
<p>A Ruby object which class includes <a
href="Marshallable.html">XMLRPC::Marshallable</a> (only if
Config::ENABLE_MARSHALLABLE is <code>true</code>). That object is converted
into a hash, with one additional key/value pair
<code><em>_</em>class___</code> which contains the class name for restoring
that object later.</p>
</li></ul>

<p>The method returns the return-value from the Remote Procedure Call.</p>

<p>The type of the return-value is one of the types shown above.</p>

<p>A Bignum is only allowed when it fits in 32-bit. A XML-RPC
<code>dateTime.iso8601</code> type is always returned as a <a
href="DateTime.html">XMLRPC::DateTime</a> object. <a
href="../Struct.html">Struct</a> is never returned, only a <a
href="../Hash.html">Hash</a>, the same for a <a
href="../Symbol.html">Symbol</a>, where as a String is always returned. <a
href="Base64.html">XMLRPC::Base64</a> is returned as a String from xmlrpc4r
version 1.6.1 on.</p>

<p>If the remote procedure returned a fault-structure, then a <a
href="FaultException.html">XMLRPC::FaultException</a> exception is raised,
which has two accessor-methods <code>faultCode</code> an <a
href="../Integer.html">Integer</a>, and <code>faultString</code> a String.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call_source')" id="l_method-i-call_source">show</a>
                
              </p>
              <div id="method-i-call_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 261</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">param</span> = <span class="ruby-identifier">call2</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">param</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">param</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-call2">
            
              <b>call2</b>(method, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-call2" name="method-i-call2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The difference between this method and <a
href="Client.html#method-i-call">#call</a> is, that this method will
<strong>NOT</strong> raise a <a
href="FaultException.html">XMLRPC::FaultException</a> exception.</p>

<p>The method returns an array of two values. The first value indicates if the
second value is <code>true</code> or an <a
href="FaultException.html">XMLRPC::FaultException</a>.</p>

<p>Both are explained in <a href="Client.html#method-i-call">#call</a>.</p>

<p>Simple to remember: The “2” in “call2” denotes the number of values it
returns.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call2_source')" id="l_method-i-call2_source">show</a>
                
              </p>
              <div id="method-i-call2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 279</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call2</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">request</span> = <span class="ruby-identifier">create</span>().<span class="ruby-identifier">methodCall</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">do_rpc</span>(<span class="ruby-identifier">request</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">parser</span>().<span class="ruby-identifier">parseMethodResponse</span>(<span class="ruby-identifier">data</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-call2_async">
            
              <b>call2_async</b>(method, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-call2_async" name="method-i-call2_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <a href="Client.html#method-i-call2">#call2</a>, but can be called
concurrently.</p>

<p>See also <a href="Client.html#method-i-call_async">#call_async</a></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call2_async_source')" id="l_method-i-call2_async_source">show</a>
                
              </p>
              <div id="method-i-call2_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 313</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call2_async</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">request</span> = <span class="ruby-identifier">create</span>().<span class="ruby-identifier">methodCall</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">do_rpc</span>(<span class="ruby-identifier">request</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">parser</span>().<span class="ruby-identifier">parseMethodResponse</span>(<span class="ruby-identifier">data</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-call_async">
            
              <b>call_async</b>(method, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-call_async" name="method-i-call_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Similar to <a href="Client.html#method-i-call">#call</a>, however can be
called concurrently and use a new connection for each request. In contrast
to the corresponding method without the <code>_async</code> suffix, which
use connect-alive (one connection for all requests).</p>

<p>Note, that you have to use <a href="../Thread.html">Thread</a> to call
these methods concurrently. The following example calls two methods
concurrently:</p>

<pre>Thread.new {
  p client.call_async(&quot;michael.add&quot;, 4, 5)
}

Thread.new {
  p client.call_async(&quot;michael.div&quot;, 7, 9)
}</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-call_async_source')" id="l_method-i-call_async_source">show</a>
                
              </p>
              <div id="method-i-call_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 301</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">call_async</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">param</span> = <span class="ruby-identifier">call2_async</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">param</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">param</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multicall">
            
              <b>multicall</b>(*methods)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-multicall" name="method-i-multicall" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>You can use this method to execute several methods on a <a
href="../XMLRPC.html">XMLRPC</a> server which support the multi-call
extension.</p>

<pre class="ruby"><span class="ruby-identifier">s</span>.<span class="ruby-identifier">multicall</span>(
  [<span class="ruby-string">&#39;michael.add&#39;</span>, <span class="ruby-value">3</span>, <span class="ruby-value">4</span>],
  [<span class="ruby-string">&#39;michael.sub&#39;</span>, <span class="ruby-value">4</span>, <span class="ruby-value">5</span>]
)
<span class="ruby-comment"># =&gt; [7, -1]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multicall_source')" id="l_method-i-multicall_source">show</a>
                
              </p>
              <div id="method-i-multicall_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 328</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multicall</span>(*<span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">params</span> = <span class="ruby-identifier">multicall2</span>(*<span class="ruby-identifier">methods</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multicall2">
            
              <b>multicall2</b>(*methods)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-multicall2" name="method-i-multicall2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <a href="Client.html#method-i-multicall">#multicall</a>, but
returns two parameters instead of raising an <a
href="FaultException.html">XMLRPC::FaultException</a>.</p>

<p>See <a href="Client.html#method-i-call2">#call2</a></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multicall2_source')" id="l_method-i-multicall2_source">show</a>
                
              </p>
              <div id="method-i-multicall2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multicall2</span>(*<span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">gen_multicall</span>(<span class="ruby-identifier">methods</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multicall2_async">
            
              <b>multicall2_async</b>(*methods)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-multicall2_async" name="method-i-multicall2_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <a href="Client.html#method-i-multicall2">#multicall2</a>, but can
be called concurrently.</p>

<p>See also <a
href="Client.html#method-i-multicall_async">#multicall_async</a></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multicall2_async_source')" id="l_method-i-multicall2_async_source">show</a>
                
              </p>
              <div id="method-i-multicall2_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 373</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multicall2_async</span>(*<span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">gen_multicall</span>(<span class="ruby-identifier">methods</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multicall_async">
            
              <b>multicall_async</b>(*methods)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-multicall_async" name="method-i-multicall_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Similar to <a href="Client.html#method-i-multicall">#multicall</a>, however
can be called concurrently and use a new connection for each request. In
contrast to the corresponding method without the <code>_async</code>
suffix, which use connect-alive (one connection for all requests).</p>

<p>Note, that you have to use <a href="../Thread.html">Thread</a> to call
these methods concurrently. The following example calls two methods
concurrently:</p>

<pre>Thread.new {
  p client.multicall_async(&quot;michael.add&quot;, 4, 5)
}

Thread.new {
  p client.multicall_async(&quot;michael.div&quot;, 7, 9)
}</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multicall_async_source')" id="l_method-i-multicall_async_source">show</a>
                
              </p>
              <div id="method-i-multicall_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 361</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multicall_async</span>(*<span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">params</span> = <span class="ruby-identifier">multicall2_async</span>(*<span class="ruby-identifier">methods</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-password-3D">
            
              <b>password=</b>(new_password)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-password-3D" name="method-i-password-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Changes the password for the Basic Authentication header to
<code>new_password</code></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-password-3D_source')" id="l_method-i-password-3D_source">show</a>
                
              </p>
              <div id="method-i-password-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">password=</span>(<span class="ruby-identifier">new_password</span>)
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">new_password</span>
  <span class="ruby-identifier">set_auth</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy">
            
              <b>proxy</b>(prefix=nil, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-proxy" name="method-i-proxy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an object of class <a
href="Client/Proxy.html">XMLRPC::Client::Proxy</a>, initialized with
<code>prefix</code> and <code>args</code>.</p>

<p>A proxy object returned by this method behaves like <a
href="Client.html#method-i-call">#call</a>, i.e. a call on that object will
raise a <a href="FaultException.html">XMLRPC::FaultException</a> when a
fault-structure is returned by that call.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_source')" id="l_method-i-proxy_source">show</a>
                
              </p>
              <div id="method-i-proxy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 384</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">args</span>, <span class="ruby-value">:call</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy2">
            
              <b>proxy2</b>(prefix=nil, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-proxy2" name="method-i-proxy2" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Almost the same like <a href="Client.html#method-i-proxy">#proxy</a> only
that a call on the returned <a
href="Client/Proxy.html">XMLRPC::Client::Proxy</a> object will return two
parameters.</p>

<p>See <a href="Client.html#method-i-call2">#call2</a></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy2_source')" id="l_method-i-proxy2_source">show</a>
                
              </p>
              <div id="method-i-proxy2_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 392</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy2</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">args</span>, <span class="ruby-value">:call2</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy2_async">
            
              <b>proxy2_async</b>(prefix=nil, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-proxy2_async" name="method-i-proxy2_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Same as <a href="Client.html#method-i-proxy2">#proxy2</a>, but can be
called concurrently.</p>

<p>See also <a href="Client.html#method-i-proxy_async">#proxy_async</a></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy2_async_source')" id="l_method-i-proxy2_async_source">show</a>
                
              </p>
              <div id="method-i-proxy2_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy2_async</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">args</span>, <span class="ruby-value">:call2_async</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-proxy_async">
            
              <b>proxy_async</b>(prefix=nil, *args)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-proxy_async" name="method-i-proxy_async" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Similar to <a href="Client.html#method-i-proxy">#proxy</a>, however can be
called concurrently and use a new connection for each request. In contrast
to the corresponding method without the <code>_async</code> suffix, which
use connect-alive (one connection for all requests).</p>

<p>Note, that you have to use <a href="../Thread.html">Thread</a> to call
these methods concurrently. The following example calls two methods
concurrently:</p>

<pre>Thread.new {
  p client.proxy_async(&quot;michael.add&quot;, 4, 5)
}

Thread.new {
  p client.proxy_async(&quot;michael.div&quot;, 7, 9)
}</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-proxy_async_source')" id="l_method-i-proxy_async_source">show</a>
                
              </p>
              <div id="method-i-proxy_async_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">proxy_async</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">args</span>, <span class="ruby-value">:call_async</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-timeout-3D">
            
              <b>timeout=</b>(new_timeout)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-timeout-3D" name="method-i-timeout-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets the <a
href="../Net/HTTP.html#attribute-i-read_timeout">Net::HTTP#read_timeout</a>
and <a
href="../Net/HTTP.html#attribute-i-open_timeout">Net::HTTP#open_timeout</a>
to <code>new_timeout</code></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-timeout-3D_source')" id="l_method-i-timeout-3D_source">show</a>
                
              </p>
              <div id="method-i-timeout-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">timeout=</span>(<span class="ruby-identifier">new_timeout</span>)
  <span class="ruby-ivar">@timeout</span> = <span class="ruby-identifier">new_timeout</span>
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@timeout</span>
  <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">open_timeout</span> = <span class="ruby-ivar">@timeout</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-user-3D">
            
              <b>user=</b>(new_user)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-user-3D" name="method-i-user-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Changes the user for the Basic Authentication header to
<code>new_user</code></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-user-3D_source')" id="l_method-i-user-3D_source">show</a>
                
              </p>
              <div id="method-i-user-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">user=</span>(<span class="ruby-identifier">new_user</span>)
  <span class="ruby-ivar">@user</span> = <span class="ruby-identifier">new_user</span>
  <span class="ruby-identifier">set_auth</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
              
      <div class="sectiontitle">Instance Private methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-do_rpc">
            
              <b>do_rpc</b>(request, async=false)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-do_rpc" name="method-i-do_rpc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-do_rpc_source')" id="l_method-i-do_rpc_source">show</a>
                
              </p>
              <div id="method-i-do_rpc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">do_rpc</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">async</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">header</span> = {
   <span class="ruby-string">&quot;User-Agent&quot;</span>     =<span class="ruby-operator">&gt;</span>  <span class="ruby-constant">USER_AGENT</span>,
   <span class="ruby-string">&quot;Content-Type&quot;</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;text/xml; charset=utf-8&quot;</span>,
   <span class="ruby-string">&quot;Content-Length&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">bytesize</span>.<span class="ruby-identifier">to_s</span>,
   <span class="ruby-string">&quot;Connection&quot;</span>     =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">async</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;close&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;keep-alive&quot;</span>)
  }

  <span class="ruby-identifier">header</span>[<span class="ruby-string">&quot;Cookie&quot;</span>] = <span class="ruby-ivar">@cookie</span>        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@cookie</span>
  <span class="ruby-identifier">header</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@http_header_extra</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@http_header_extra</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@auth</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-comment"># add authorization header</span>
    <span class="ruby-identifier">header</span>[<span class="ruby-string">&quot;Authorization&quot;</span>] = <span class="ruby-ivar">@auth</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">resp</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@http_last_response</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">async</span>
    <span class="ruby-comment"># use a new HTTP object for each call</span>
    <span class="ruby-identifier">http</span> = <span class="ruby-identifier">net_http</span>(<span class="ruby-ivar">@host</span>, <span class="ruby-ivar">@port</span>, <span class="ruby-ivar">@proxy_host</span>, <span class="ruby-ivar">@proxy_port</span>)
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">use_ssl</span> = <span class="ruby-ivar">@use_ssl</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@use_ssl</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@timeout</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">open_timeout</span> = <span class="ruby-ivar">@timeout</span>

    <span class="ruby-comment"># post request</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span> {
      <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_post</span>(<span class="ruby-ivar">@path</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">header</span>)
    }
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># reuse the HTTP object for each call =&gt; connection alive is possible</span>
    <span class="ruby-comment"># we must start connection explicitely first time so that http.request</span>
    <span class="ruby-comment"># does not assume that we don&#39;t want keepalive</span>
    <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">start</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">started?</span>

    <span class="ruby-comment"># post request</span>
    <span class="ruby-identifier">resp</span> = <span class="ruby-ivar">@http</span>.<span class="ruby-identifier">request_post</span>(<span class="ruby-ivar">@path</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">header</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@http_last_response</span> = <span class="ruby-identifier">resp</span>

  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">body</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">code</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;401&quot;</span>
    <span class="ruby-comment"># Authorization Required</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Authorization failed.\nHTTP-Error: #{resp.code} #{resp.message}&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">code</span>[<span class="ruby-number">0</span>,<span class="ruby-number">1</span>] <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;2&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;HTTP-Error: #{resp.code} #{resp.message}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># assume text/xml on instances where Content-Type header is not set</span>
  <span class="ruby-identifier">ct_expected</span> = <span class="ruby-identifier">resp</span>[<span class="ruby-string">&quot;Content-Type&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&#39;text/xml&#39;</span>
  <span class="ruby-identifier">ct</span> = <span class="ruby-identifier">parse_content_type</span>(<span class="ruby-identifier">ct_expected</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ct</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;text/xml&quot;</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ct</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;text/html&quot;</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Wrong content-type (received &#39;#{ct}&#39; but expected &#39;text/xml&#39;): \n#{data}&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Wrong content-type (received &#39;#{ct}&#39; but expected &#39;text/xml&#39;)&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">expected</span> = <span class="ruby-identifier">resp</span>[<span class="ruby-string">&quot;Content-Length&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&lt;unknown&gt;&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">bytesize</span> <span class="ruby-operator">==</span> <span class="ruby-number">0</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Wrong size. Was #{data.bytesize}, should be #{expected}&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">expected</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;&lt;unknown&gt;&quot;</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">expected</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">bytesize</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">resp</span>[<span class="ruby-string">&quot;Transfer-Encoding&quot;</span>].<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Wrong size. Was #{data.bytesize}, should be #{expected}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">set_cookies</span> = <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">get_fields</span>(<span class="ruby-string">&quot;Set-Cookie&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">set_cookies</span> <span class="ruby-keyword">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">set_cookies</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;webrick/cookie&#39;</span>
    <span class="ruby-ivar">@cookie</span> = <span class="ruby-identifier">set_cookies</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set_cookie</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">cookie</span> = <span class="ruby-constant">WEBrick</span><span class="ruby-operator">::</span><span class="ruby-constant">Cookie</span>.<span class="ruby-identifier">parse_set_cookie</span>(<span class="ruby-identifier">set_cookie</span>)
      <span class="ruby-constant">WEBrick</span><span class="ruby-operator">::</span><span class="ruby-constant">Cookie</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">cookie</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">cookie</span>.<span class="ruby-identifier">value</span>).<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;; &quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">data</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-gen_multicall">
            
              <b>gen_multicall</b>(methods=[], async=false)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-gen_multicall" name="method-i-gen_multicall" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-gen_multicall_source')" id="l_method-i-gen_multicall_source">show</a>
                
              </p>
              <div id="method-i-gen_multicall_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 521</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">gen_multicall</span>(<span class="ruby-identifier">methods</span>=[], <span class="ruby-identifier">async</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">meth</span> = <span class="ruby-value">:call2</span>
  <span class="ruby-identifier">meth</span> = <span class="ruby-value">:call2_async</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">async</span>

  <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">params</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-string">&quot;system.multicall&quot;</span>,
    <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> {<span class="ruby-string">&#39;methodName&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">0</span>], <span class="ruby-string">&#39;params&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">1</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>]} }
  )

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ok</span>
    <span class="ruby-identifier">params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">param</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
        <span class="ruby-identifier">param</span>[<span class="ruby-number">0</span>]
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">param</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
        <span class="ruby-constant">XMLRPC</span><span class="ruby-operator">::</span><span class="ruby-constant">FaultException</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">param</span>[<span class="ruby-string">&quot;faultCode&quot;</span>], <span class="ruby-identifier">param</span>[<span class="ruby-string">&quot;faultString&quot;</span>])
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Wrong multicall return value&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ok</span>, <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-net_http">
            
              <b>net_http</b>(host, port, proxy_host, proxy_port)
            
            <a href="../../classes/XMLRPC/Client.html#method-i-net_http" name="method-i-net_http" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-net_http_source')" id="l_method-i-net_http_source">show</a>
                
              </p>
              <div id="method-i-net_http_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">net_http</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">proxy_host</span>, <span class="ruby-identifier">proxy_port</span>)
  <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">proxy_host</span>, <span class="ruby-identifier">proxy_port</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-set_auth">
            
              <b>set_auth</b>()
            
            <a href="../../classes/XMLRPC/Client.html#method-i-set_auth" name="method-i-set_auth" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-set_auth_source')" id="l_method-i-set_auth_source">show</a>
                
              </p>
              <div id="method-i-set_auth_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/xmlrpc/client.rb, line 430</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_auth</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@auth</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">a</span> =  <span class="ruby-node">&quot;#@user&quot;</span>
    <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;:#@password&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@password</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@auth</span> = <span class="ruby-string">&quot;Basic &quot;</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">a</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&quot;m0&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    