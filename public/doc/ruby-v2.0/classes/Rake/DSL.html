<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Rake::DSL</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            Rake::DSL 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rake/dsl_definition_rb.html">lib/rake/dsl_definition.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p><a href="DSL.html">DSL</a> is a module that provides <a
href="DSL.html#method-i-task">task</a>, <a
href="DSL.html#method-i-desc">desc</a>, <a
href="DSL.html#method-i-namespace">namespace</a>, etc.  Use this when
you&#39;d like to use rake outside the top level scope.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-desc">desc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-directory">directory</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-file">file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-file_create">file_create</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-import">import</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-multitask">multitask</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-namespace">namespace</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-rule">rule</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-task">task</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="FileUtilsExt.html">
              Rake::FileUtilsExt
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Private methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-desc">
            
              <b>desc</b>(description)
            
            <a href="../../classes/Rake/DSL.html#method-i-desc" name="method-i-desc" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Describe the next rake task.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">desc</span> <span class="ruby-string">&quot;Run the Unit Tests&quot;</span>
<span class="ruby-identifier">task</span> :<span class="ruby-identifier">test</span> =<span class="ruby-operator">&gt;</span> [:<span class="ruby-identifier">build</span>]
  <span class="ruby-identifier">runtests</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-desc_source')" id="l_method-i-desc_source">show</a>
                
              </p>
              <div id="method-i-desc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">desc</span>(<span class="ruby-identifier">description</span>)
  <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-identifier">description</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-directory">
            
              <b>directory</b>(*args, &amp;block)
            
            <a href="../../classes/Rake/DSL.html#method-i-directory" name="method-i-directory" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Declare a set of files tasks to create the given directories on demand.</p>

<p>Example:</p>

<pre>directory &quot;testdata/doc&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-directory_source')" id="l_method-i-directory_source">show</a>
                
              </p>
              <div id="method-i-directory_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">directory</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">file_create</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">_</span> = *<span class="ruby-constant">Rake</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">resolve_args</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">each_dir_parent</span>(<span class="ruby-identifier">dir</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">file_create</span> <span class="ruby-identifier">d</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">mkdir_p</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-file">
            
              <b>file</b>(*args, &amp;block)
            
            <a href="../../classes/Rake/DSL.html#method-i-file" name="method-i-file" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Declare a file task.</p>

<p>Example:</p>

<pre class="ruby"> <span class="ruby-identifier">file</span> <span class="ruby-string">&quot;config.cfg&quot;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;config.template&quot;</span>] <span class="ruby-keyword">do</span>
   <span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;config.cfg&quot;</span>, <span class="ruby-string">&quot;w&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">outfile</span><span class="ruby-operator">|</span>
     <span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;config.template&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">infile</span><span class="ruby-operator">|</span>
       <span class="ruby-keyword">while</span> <span class="ruby-identifier">line</span> = <span class="ruby-identifier">infile</span>.<span class="ruby-identifier">gets</span>
         <span class="ruby-identifier">outfile</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">line</span>
       <span class="ruby-keyword">end</span>
     <span class="ruby-keyword">end</span>
   <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-file_source')" id="l_method-i-file_source">show</a>
                
              </p>
              <div id="method-i-file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">file</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">FileTask</span>.<span class="ruby-identifier">define_task</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-file_create">
            
              <b>file_create</b>(*args, &amp;block)
            
            <a href="../../classes/Rake/DSL.html#method-i-file_create" name="method-i-file_create" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Declare a file creation task. (Mainly used for the directory command).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-file_create_source')" id="l_method-i-file_create_source">show</a>
                
              </p>
              <div id="method-i-file_create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">file_create</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">FileCreationTask</span>.<span class="ruby-identifier">define_task</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-import">
            
              <b>import</b>(*fns)
            
            <a href="../../classes/Rake/DSL.html#method-i-import" name="method-i-import" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Import the partial Rakefiles <code>fn</code>.  Imported files are loaded
<em>after</em> the current file is completely loaded.  This allows the
import statement to appear anywhere in the importing file, and yet allowing
the imported files to depend on objects defined in the importing file.</p>

<p>A common use of the import statement is to include files containing
dependency declarations.</p>

<p>See also the –rakelibdir command line option.</p>

<p>Example:</p>

<pre>import &quot;.depend&quot;, &quot;my_rules&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-import_source')" id="l_method-i-import_source">show</a>
                
              </p>
              <div id="method-i-import_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">import</span>(*<span class="ruby-identifier">fns</span>)
  <span class="ruby-identifier">fns</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fn</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">add_import</span>(<span class="ruby-identifier">fn</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-multitask">
            
              <b>multitask</b>(*args, &amp;block)
            
            <a href="../../classes/Rake/DSL.html#method-i-multitask" name="method-i-multitask" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Declare a task that performs its prerequisites in parallel. Multitasks does
<strong>not</strong> guarantee that its prerequisites will execute in any
given order (which is obvious when you think about it)</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">multitask</span> :<span class="ruby-identifier">deploy</span> =<span class="ruby-operator">&gt;</span> [:<span class="ruby-identifier">deploy_gem</span>, :<span class="ruby-identifier">deploy_rdoc</span>]
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-multitask_source')" id="l_method-i-multitask_source">show</a>
                
              </p>
              <div id="method-i-multitask_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">multitask</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">MultiTask</span>.<span class="ruby-identifier">define_task</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-namespace">
            
              <b>namespace</b>(name=nil, &amp;block)
            
            <a href="../../classes/Rake/DSL.html#method-i-namespace" name="method-i-namespace" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Create a new rake namespace and use it for evaluating the given block. 
Returns a <a href="NameSpace.html">NameSpace</a> object that can be used to
lookup tasks defined in the namespace.</p>

<p>E.g.</p>

<pre>ns = namespace &quot;nested&quot; do
  task :run
end
task_run = ns[:run] # find :run in the given namespace.</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-namespace_source')" id="l_method-i-namespace_source">show</a>
                
              </p>
              <div id="method-i-namespace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">namespace</span>(<span class="ruby-identifier">name</span>=<span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Symbol</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_str</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_str</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Expected a String or Symbol for a namespace name&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">application</span>.<span class="ruby-identifier">in_namespace</span>(<span class="ruby-identifier">name</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-rule">
            
              <b>rule</b>(*args, &amp;block)
            
            <a href="../../classes/Rake/DSL.html#method-i-rule" name="method-i-rule" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Declare a rule for auto-tasks.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">rule</span> <span class="ruby-string">&#39;.o&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;.c&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">sh</span> <span class="ruby-node">%Q{cc -o #{t.name} #{t.source}}</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-rule_source')" id="l_method-i-rule_source">show</a>
                
              </p>
              <div id="method-i-rule_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">rule</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>.<span class="ruby-identifier">create_rule</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-task">
            
              <b>task</b>(*args, &amp;block)
            
            <a href="../../classes/Rake/DSL.html#method-i-task" name="method-i-task" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Declare a basic task.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">task</span> :<span class="ruby-identifier">clobber</span> =<span class="ruby-operator">&gt;</span> [:<span class="ruby-identifier">clean</span>] <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">rm_rf</span> <span class="ruby-string">&quot;html&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-task_source')" id="l_method-i-task_source">show</a>
                
              </p>
              <div id="method-i-task_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/rake/dsl_definition.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">task</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>.<span class="ruby-identifier">define_task</span>(*<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    